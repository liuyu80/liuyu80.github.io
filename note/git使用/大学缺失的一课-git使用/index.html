
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Yu">
      
      
        <link rel="canonical" href="https://liuyu80.github.io/note/git%E4%BD%BF%E7%94%A8/%E5%A4%A7%E5%AD%A6%E7%BC%BA%E5%A4%B1%E7%9A%84%E4%B8%80%E8%AF%BE-git%E4%BD%BF%E7%94%A8/">
      
      
        <link rel="prev" href="../../python/log/">
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.25">
    
    
      
        <title>git使用 - Yu's Blog</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css">
    
      <link rel="stylesheet" href="../../../mkdocs/css/no-footer.css">
    
      <link rel="stylesheet" href="../../../mkdocs/css/unordered-list-symbols.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1-git" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="Yu&#39;s Blog" class="md-header__button md-logo" aria-label="Yu's Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Yu's Blog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              git使用
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="切换至夜间模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换至夜间模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="切换至日间模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换至日间模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/liuyu80" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    liuyu.github
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  首页

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../about/" class="md-tabs__link">
        
  
    
  
  关于我

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../note/" class="md-tabs__link">
          
  
    
  
  笔记

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Yu&#39;s Blog" class="md-nav__button md-logo" aria-label="Yu's Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Yu's Blog
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/liuyu80" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    liuyu.github
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    首页
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    关于我
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    笔记
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            笔记
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../note/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Note
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../python/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Python
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/log/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Log
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../freertos/index.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FreeRTOS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    git使用
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    git使用
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-git" class="md-nav__link">
    <span class="md-ellipsis">
      1. git基础概念
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. git基础概念">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-gitsvn" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Git与SVN的区别
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-4" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 4个分区的概念
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 配置作者和邮箱
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.3 配置作者和邮箱">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#131" class="md-nav__link">
    <span class="md-ellipsis">
      1.3.1 全局配置（对所有仓库生效）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#132" class="md-nav__link">
    <span class="md-ellipsis">
      1.3.2 当前仓库配置（仅对当前仓库生效）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#133" class="md-nav__link">
    <span class="md-ellipsis">
      1.3.3 查看配置
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#134" class="md-nav__link">
    <span class="md-ellipsis">
      1.3.4 配置优先级
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14" class="md-nav__link">
    <span class="md-ellipsis">
      1.4 忽略某些文件
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.4 忽略某些文件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#141-gitignore" class="md-nav__link">
    <span class="md-ellipsis">
      1.4.1 .gitignore文件作用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#142" class="md-nav__link">
    <span class="md-ellipsis">
      1.4.2 语法规则
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#143" class="md-nav__link">
    <span class="md-ellipsis">
      1.4.3 常见忽略项
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#144" class="md-nav__link">
    <span class="md-ellipsis">
      1.4.4 使用方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#145" class="md-nav__link">
    <span class="md-ellipsis">
      1.4.5 注意事项
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-vscodegit" class="md-nav__link">
    <span class="md-ellipsis">
      2. vscode上的git插件
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. vscode上的git插件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-git" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Git可视化工具
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 代码提交相关
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 团队协作相关
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-git" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 Git工作流支持
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 其他集成功能
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-git" class="md-nav__link">
    <span class="md-ellipsis">
      3. Git后悔药
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Git后悔药">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 撤销场景分类
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 撤销工作区修改
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.2 撤销工作区修改">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#321" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.1 丢弃单个文件修改
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#322" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.2 丢弃所有修改
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 撤销暂存区变更
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3 撤销暂存区变更">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.1 将文件移出暂存区（保留工作区修改）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.2 完全撤销暂存区和工作区修改
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 撤销本地提交
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.4 撤销本地提交">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#341" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.1 撤销最近一次提交（保留修改）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#342" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.2 完全撤销提交（慎用）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#343" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.3 修改最近提交（不产生新提交）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#344-commit" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.4 撤回历史commit（高级用法）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35" class="md-nav__link">
    <span class="md-ellipsis">
      3.5 撤销已推送提交
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.5 撤销已推送提交">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#351" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.1 安全撤销（推荐）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#352" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.2 强制撤销（慎用）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36" class="md-nav__link">
    <span class="md-ellipsis">
      3.6 恢复误删内容
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6 恢复误删内容">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#361" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.1 查找历史操作
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#362" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.2 恢复分支/提交
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#37" class="md-nav__link">
    <span class="md-ellipsis">
      3.7 最佳实践
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#38" class="md-nav__link">
    <span class="md-ellipsis">
      3.8 常见问题解决方案
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.8 常见问题解决方案">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#381" class="md-nav__link">
    <span class="md-ellipsis">
      3.8.1 修改了错误的分支
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#382" class="md-nav__link">
    <span class="md-ellipsis">
      3.8.2 提交了敏感信息
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#383" class="md-nav__link">
    <span class="md-ellipsis">
      3.8.3 需要拆分大提交
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 分支合并 &amp; 合并冲突
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. 分支合并 & 合并冲突">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-merge" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 merge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-rebase" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 rebase
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2 rebase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#421" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.1 基本用法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#422-rebase-vs-merge" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.2 Rebase vs Merge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#423-rebase-rebase-i" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.3 交互式 Rebase (rebase -i)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#424-rebase" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.4 使用 Rebase 的风险与建议
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-cherry-pick" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 cherry-pick
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3 cherry-pick">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#431" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.1 定义与作用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#432" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2 基本用法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#433" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.3 应用场景
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#434-mergerebase" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.4 与 Merge/Rebase 的区别
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#435" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.5 注意事项与风险
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-git-stash" class="md-nav__link">
    <span class="md-ellipsis">
      4.4 git stash
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.4 git stash">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#441" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.1 定义与作用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#442" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.2 常用命令
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#443" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.3 包含未跟踪/忽略文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#444" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.4 应用场景
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#445" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.5 注意事项
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45" class="md-nav__link">
    <span class="md-ellipsis">
      4.5 团队协作中的合并建议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#46" class="md-nav__link">
    <span class="md-ellipsis">
      4.6 保持线性提交的方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#47" class="md-nav__link">
    <span class="md-ellipsis">
      4.7 合并冲突处理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.7 合并冲突处理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#471" class="md-nav__link">
    <span class="md-ellipsis">
      4.7.1 冲突场景分类
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#472" class="md-nav__link">
    <span class="md-ellipsis">
      4.7.2 解决冲突步骤详解
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#473" class="md-nav__link">
    <span class="md-ellipsis">
      4.7.3 解决冲突工具
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#474" class="md-nav__link">
    <span class="md-ellipsis">
      4.7.4 预防冲突
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-commit" class="md-nav__link">
    <span class="md-ellipsis">
      5. 如何写好一个commit
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. 如何写好一个commit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-conventional-commits" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 规范（Conventional Commits）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 内容要素
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 示例对比
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-github" class="md-nav__link">
    <span class="md-ellipsis">
      6. github介绍
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. github介绍">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61" class="md-nav__link">
    <span class="md-ellipsis">
      6.1 平台定位
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62" class="md-nav__link">
    <span class="md-ellipsis">
      6.2 核心概念图解
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63" class="md-nav__link">
    <span class="md-ellipsis">
      6.3 关键组件解析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-github" class="md-nav__link">
    <span class="md-ellipsis">
      6.4 GitHub服务矩阵
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#65" class="md-nav__link">
    <span class="md-ellipsis">
      6.5 开源动机解析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#66-ssh" class="md-nav__link">
    <span class="md-ellipsis">
      6.6 SSH密钥配置
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#67" class="md-nav__link">
    <span class="md-ellipsis">
      6.7 添加和管理远程仓库
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.7 添加和管理远程仓库">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#671" class="md-nav__link">
    <span class="md-ellipsis">
      6.7.1 添加远程仓库
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#672" class="md-nav__link">
    <span class="md-ellipsis">
      6.7.2 查看远程仓库
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#673" class="md-nav__link">
    <span class="md-ellipsis">
      6.7.3 添加多个远程仓库
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#674" class="md-nav__link">
    <span class="md-ellipsis">
      6.7.4 与特定远程仓库交互
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#675" class="md-nav__link">
    <span class="md-ellipsis">
      6.7.5 重命名和删除远程仓库
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    <span class="md-ellipsis">
      7. 多人协同
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. 多人协同">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71" class="md-nav__link">
    <span class="md-ellipsis">
      7.1 权限管理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.1 权限管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#711-github" class="md-nav__link">
    <span class="md-ellipsis">
      7.1.1 GitHub权限模型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#712" class="md-nav__link">
    <span class="md-ellipsis">
      7.1.2 分支保护规则
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-pull-request" class="md-nav__link">
    <span class="md-ellipsis">
      7.2 合并请求(Pull Request)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.2 合并请求(Pull Request)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#721-pr" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.1 PR最佳实践
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-issue" class="md-nav__link">
    <span class="md-ellipsis">
      7.3 Issue管理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.3 Issue管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#731-issue" class="md-nav__link">
    <span class="md-ellipsis">
      7.3.1 高效使用Issue
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#74-git-version" class="md-nav__link">
    <span class="md-ellipsis">
      7.4 git version自动版本管理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.4 git version自动版本管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#741" class="md-nav__link">
    <span class="md-ellipsis">
      7.4.1 目的
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#742-bash" class="md-nav__link">
    <span class="md-ellipsis">
      7.4.2 实现方法：Bash脚本生成头文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#743" class="md-nav__link">
    <span class="md-ellipsis">
      7.4.3 集成到编译流程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#744-c" class="md-nav__link">
    <span class="md-ellipsis">
      7.4.4 在C代码中使用版本信息
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#745" class="md-nav__link">
    <span class="md-ellipsis">
      7.4.5 注意事项
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-gitflow" class="md-nav__link">
    <span class="md-ellipsis">
      8. gitflow实战
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. gitflow实战">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-gitflow" class="md-nav__link">
    <span class="md-ellipsis">
      8.1 Gitflow工作流模型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82" class="md-nav__link">
    <span class="md-ellipsis">
      8.2 核心操作指南
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83" class="md-nav__link">
    <span class="md-ellipsis">
      8.3 分支管理规范
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84" class="md-nav__link">
    <span class="md-ellipsis">
      8.4 分支合并策略
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85" class="md-nav__link">
    <span class="md-ellipsis">
      8.5 合并最佳实践
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#86" class="md-nav__link">
    <span class="md-ellipsis">
      8.6 实战示例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-pr" class="md-nav__link">
    <span class="md-ellipsis">
      9. 如何写好一个PR
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. 如何写好一个PR">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-pr" class="md-nav__link">
    <span class="md-ellipsis">
      9.1 PR基本要素
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-github-pr" class="md-nav__link">
    <span class="md-ellipsis">
      9.2 GitHub PR高效使用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93-vscode" class="md-nav__link">
    <span class="md-ellipsis">
      9.3 VSCode集成技巧
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#94-pr" class="md-nav__link">
    <span class="md-ellipsis">
      9.4 优秀PR示例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-git" class="md-nav__link">
    <span class="md-ellipsis">
      10. git 子模块
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10. git 子模块">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#101" class="md-nav__link">
    <span class="md-ellipsis">
      10.1 基本概念
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#102" class="md-nav__link">
    <span class="md-ellipsis">
      10.2 核心特点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#103" class="md-nav__link">
    <span class="md-ellipsis">
      10.3 使用指南
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#104" class="md-nav__link">
    <span class="md-ellipsis">
      10.4 使用场景与优势
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#105" class="md-nav__link">
    <span class="md-ellipsis">
      10.5 注意事项
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-git-hook" class="md-nav__link">
    <span class="md-ellipsis">
      11. git hook
    </span>
  </a>
  
    <nav class="md-nav" aria-label="11. git hook">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#111" class="md-nav__link">
    <span class="md-ellipsis">
      11.1 基本概念
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112" class="md-nav__link">
    <span class="md-ellipsis">
      11.2 核心特点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#113" class="md-nav__link">
    <span class="md-ellipsis">
      11.3 使用指南
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#114" class="md-nav__link">
    <span class="md-ellipsis">
      11.4 实用案例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#115" class="md-nav__link">
    <span class="md-ellipsis">
      11.5 使用好处
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#117" class="md-nav__link">
    <span class="md-ellipsis">
      11.7 注意事项
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-git-lfs-large-file-storage" class="md-nav__link">
    <span class="md-ellipsis">
      12. Git LFS (Large File Storage)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="12. Git LFS (Large File Storage)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121-git-lfs" class="md-nav__link">
    <span class="md-ellipsis">
      12.1 什么是 Git LFS？
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122" class="md-nav__link">
    <span class="md-ellipsis">
      12.2 工作原理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#123" class="md-nav__link">
    <span class="md-ellipsis">
      12.3 使用场景
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#124" class="md-nav__link">
    <span class="md-ellipsis">
      12.4 常用命令
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#125" class="md-nav__link">
    <span class="md-ellipsis">
      12.5 注意事项
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13-github-action" class="md-nav__link">
    <span class="md-ellipsis">
      13. github action
    </span>
  </a>
  
    <nav class="md-nav" aria-label="13. github action">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#131-github-actions" class="md-nav__link">
    <span class="md-ellipsis">
      13.1 GitHub Actions简介
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#132_1" class="md-nav__link">
    <span class="md-ellipsis">
      13.2 核心概念
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#133_1" class="md-nav__link">
    <span class="md-ellipsis">
      13.3 基本使用方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#134_1" class="md-nav__link">
    <span class="md-ellipsis">
      13.4 使用优势
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#135" class="md-nav__link">
    <span class="md-ellipsis">
      13.5 实用案例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#136" class="md-nav__link">
    <span class="md-ellipsis">
      13.6 自动编译和发布案例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#137" class="md-nav__link">
    <span class="md-ellipsis">
      13.7 实现步骤解析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#138" class="md-nav__link">
    <span class="md-ellipsis">
      13.8 进阶技巧
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#139-vscode" class="md-nav__link">
    <span class="md-ellipsis">
      13.9 VSCode集成
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-git" class="md-nav__link">
    <span class="md-ellipsis">
      1. git基础概念
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. git基础概念">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-gitsvn" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Git与SVN的区别
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-4" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 4个分区的概念
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 配置作者和邮箱
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.3 配置作者和邮箱">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#131" class="md-nav__link">
    <span class="md-ellipsis">
      1.3.1 全局配置（对所有仓库生效）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#132" class="md-nav__link">
    <span class="md-ellipsis">
      1.3.2 当前仓库配置（仅对当前仓库生效）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#133" class="md-nav__link">
    <span class="md-ellipsis">
      1.3.3 查看配置
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#134" class="md-nav__link">
    <span class="md-ellipsis">
      1.3.4 配置优先级
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14" class="md-nav__link">
    <span class="md-ellipsis">
      1.4 忽略某些文件
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.4 忽略某些文件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#141-gitignore" class="md-nav__link">
    <span class="md-ellipsis">
      1.4.1 .gitignore文件作用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#142" class="md-nav__link">
    <span class="md-ellipsis">
      1.4.2 语法规则
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#143" class="md-nav__link">
    <span class="md-ellipsis">
      1.4.3 常见忽略项
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#144" class="md-nav__link">
    <span class="md-ellipsis">
      1.4.4 使用方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#145" class="md-nav__link">
    <span class="md-ellipsis">
      1.4.5 注意事项
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-vscodegit" class="md-nav__link">
    <span class="md-ellipsis">
      2. vscode上的git插件
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. vscode上的git插件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-git" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Git可视化工具
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 代码提交相关
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 团队协作相关
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-git" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 Git工作流支持
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 其他集成功能
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-git" class="md-nav__link">
    <span class="md-ellipsis">
      3. Git后悔药
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Git后悔药">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 撤销场景分类
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 撤销工作区修改
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.2 撤销工作区修改">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#321" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.1 丢弃单个文件修改
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#322" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.2 丢弃所有修改
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 撤销暂存区变更
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3 撤销暂存区变更">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.1 将文件移出暂存区（保留工作区修改）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.2 完全撤销暂存区和工作区修改
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 撤销本地提交
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.4 撤销本地提交">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#341" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.1 撤销最近一次提交（保留修改）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#342" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.2 完全撤销提交（慎用）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#343" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.3 修改最近提交（不产生新提交）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#344-commit" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.4 撤回历史commit（高级用法）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35" class="md-nav__link">
    <span class="md-ellipsis">
      3.5 撤销已推送提交
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.5 撤销已推送提交">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#351" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.1 安全撤销（推荐）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#352" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.2 强制撤销（慎用）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36" class="md-nav__link">
    <span class="md-ellipsis">
      3.6 恢复误删内容
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6 恢复误删内容">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#361" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.1 查找历史操作
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#362" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.2 恢复分支/提交
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#37" class="md-nav__link">
    <span class="md-ellipsis">
      3.7 最佳实践
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#38" class="md-nav__link">
    <span class="md-ellipsis">
      3.8 常见问题解决方案
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.8 常见问题解决方案">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#381" class="md-nav__link">
    <span class="md-ellipsis">
      3.8.1 修改了错误的分支
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#382" class="md-nav__link">
    <span class="md-ellipsis">
      3.8.2 提交了敏感信息
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#383" class="md-nav__link">
    <span class="md-ellipsis">
      3.8.3 需要拆分大提交
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 分支合并 &amp; 合并冲突
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. 分支合并 & 合并冲突">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-merge" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 merge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-rebase" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 rebase
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2 rebase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#421" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.1 基本用法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#422-rebase-vs-merge" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.2 Rebase vs Merge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#423-rebase-rebase-i" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.3 交互式 Rebase (rebase -i)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#424-rebase" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.4 使用 Rebase 的风险与建议
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-cherry-pick" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 cherry-pick
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3 cherry-pick">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#431" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.1 定义与作用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#432" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2 基本用法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#433" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.3 应用场景
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#434-mergerebase" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.4 与 Merge/Rebase 的区别
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#435" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.5 注意事项与风险
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-git-stash" class="md-nav__link">
    <span class="md-ellipsis">
      4.4 git stash
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.4 git stash">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#441" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.1 定义与作用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#442" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.2 常用命令
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#443" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.3 包含未跟踪/忽略文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#444" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.4 应用场景
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#445" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.5 注意事项
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45" class="md-nav__link">
    <span class="md-ellipsis">
      4.5 团队协作中的合并建议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#46" class="md-nav__link">
    <span class="md-ellipsis">
      4.6 保持线性提交的方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#47" class="md-nav__link">
    <span class="md-ellipsis">
      4.7 合并冲突处理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.7 合并冲突处理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#471" class="md-nav__link">
    <span class="md-ellipsis">
      4.7.1 冲突场景分类
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#472" class="md-nav__link">
    <span class="md-ellipsis">
      4.7.2 解决冲突步骤详解
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#473" class="md-nav__link">
    <span class="md-ellipsis">
      4.7.3 解决冲突工具
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#474" class="md-nav__link">
    <span class="md-ellipsis">
      4.7.4 预防冲突
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-commit" class="md-nav__link">
    <span class="md-ellipsis">
      5. 如何写好一个commit
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. 如何写好一个commit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-conventional-commits" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 规范（Conventional Commits）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 内容要素
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 示例对比
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-github" class="md-nav__link">
    <span class="md-ellipsis">
      6. github介绍
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. github介绍">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61" class="md-nav__link">
    <span class="md-ellipsis">
      6.1 平台定位
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62" class="md-nav__link">
    <span class="md-ellipsis">
      6.2 核心概念图解
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63" class="md-nav__link">
    <span class="md-ellipsis">
      6.3 关键组件解析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-github" class="md-nav__link">
    <span class="md-ellipsis">
      6.4 GitHub服务矩阵
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#65" class="md-nav__link">
    <span class="md-ellipsis">
      6.5 开源动机解析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#66-ssh" class="md-nav__link">
    <span class="md-ellipsis">
      6.6 SSH密钥配置
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#67" class="md-nav__link">
    <span class="md-ellipsis">
      6.7 添加和管理远程仓库
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.7 添加和管理远程仓库">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#671" class="md-nav__link">
    <span class="md-ellipsis">
      6.7.1 添加远程仓库
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#672" class="md-nav__link">
    <span class="md-ellipsis">
      6.7.2 查看远程仓库
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#673" class="md-nav__link">
    <span class="md-ellipsis">
      6.7.3 添加多个远程仓库
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#674" class="md-nav__link">
    <span class="md-ellipsis">
      6.7.4 与特定远程仓库交互
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#675" class="md-nav__link">
    <span class="md-ellipsis">
      6.7.5 重命名和删除远程仓库
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    <span class="md-ellipsis">
      7. 多人协同
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. 多人协同">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71" class="md-nav__link">
    <span class="md-ellipsis">
      7.1 权限管理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.1 权限管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#711-github" class="md-nav__link">
    <span class="md-ellipsis">
      7.1.1 GitHub权限模型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#712" class="md-nav__link">
    <span class="md-ellipsis">
      7.1.2 分支保护规则
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-pull-request" class="md-nav__link">
    <span class="md-ellipsis">
      7.2 合并请求(Pull Request)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.2 合并请求(Pull Request)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#721-pr" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.1 PR最佳实践
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-issue" class="md-nav__link">
    <span class="md-ellipsis">
      7.3 Issue管理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.3 Issue管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#731-issue" class="md-nav__link">
    <span class="md-ellipsis">
      7.3.1 高效使用Issue
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#74-git-version" class="md-nav__link">
    <span class="md-ellipsis">
      7.4 git version自动版本管理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.4 git version自动版本管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#741" class="md-nav__link">
    <span class="md-ellipsis">
      7.4.1 目的
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#742-bash" class="md-nav__link">
    <span class="md-ellipsis">
      7.4.2 实现方法：Bash脚本生成头文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#743" class="md-nav__link">
    <span class="md-ellipsis">
      7.4.3 集成到编译流程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#744-c" class="md-nav__link">
    <span class="md-ellipsis">
      7.4.4 在C代码中使用版本信息
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#745" class="md-nav__link">
    <span class="md-ellipsis">
      7.4.5 注意事项
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-gitflow" class="md-nav__link">
    <span class="md-ellipsis">
      8. gitflow实战
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. gitflow实战">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-gitflow" class="md-nav__link">
    <span class="md-ellipsis">
      8.1 Gitflow工作流模型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82" class="md-nav__link">
    <span class="md-ellipsis">
      8.2 核心操作指南
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83" class="md-nav__link">
    <span class="md-ellipsis">
      8.3 分支管理规范
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84" class="md-nav__link">
    <span class="md-ellipsis">
      8.4 分支合并策略
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85" class="md-nav__link">
    <span class="md-ellipsis">
      8.5 合并最佳实践
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#86" class="md-nav__link">
    <span class="md-ellipsis">
      8.6 实战示例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-pr" class="md-nav__link">
    <span class="md-ellipsis">
      9. 如何写好一个PR
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. 如何写好一个PR">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-pr" class="md-nav__link">
    <span class="md-ellipsis">
      9.1 PR基本要素
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-github-pr" class="md-nav__link">
    <span class="md-ellipsis">
      9.2 GitHub PR高效使用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93-vscode" class="md-nav__link">
    <span class="md-ellipsis">
      9.3 VSCode集成技巧
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#94-pr" class="md-nav__link">
    <span class="md-ellipsis">
      9.4 优秀PR示例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-git" class="md-nav__link">
    <span class="md-ellipsis">
      10. git 子模块
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10. git 子模块">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#101" class="md-nav__link">
    <span class="md-ellipsis">
      10.1 基本概念
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#102" class="md-nav__link">
    <span class="md-ellipsis">
      10.2 核心特点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#103" class="md-nav__link">
    <span class="md-ellipsis">
      10.3 使用指南
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#104" class="md-nav__link">
    <span class="md-ellipsis">
      10.4 使用场景与优势
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#105" class="md-nav__link">
    <span class="md-ellipsis">
      10.5 注意事项
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-git-hook" class="md-nav__link">
    <span class="md-ellipsis">
      11. git hook
    </span>
  </a>
  
    <nav class="md-nav" aria-label="11. git hook">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#111" class="md-nav__link">
    <span class="md-ellipsis">
      11.1 基本概念
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112" class="md-nav__link">
    <span class="md-ellipsis">
      11.2 核心特点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#113" class="md-nav__link">
    <span class="md-ellipsis">
      11.3 使用指南
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#114" class="md-nav__link">
    <span class="md-ellipsis">
      11.4 实用案例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#115" class="md-nav__link">
    <span class="md-ellipsis">
      11.5 使用好处
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#117" class="md-nav__link">
    <span class="md-ellipsis">
      11.7 注意事项
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-git-lfs-large-file-storage" class="md-nav__link">
    <span class="md-ellipsis">
      12. Git LFS (Large File Storage)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="12. Git LFS (Large File Storage)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121-git-lfs" class="md-nav__link">
    <span class="md-ellipsis">
      12.1 什么是 Git LFS？
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122" class="md-nav__link">
    <span class="md-ellipsis">
      12.2 工作原理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#123" class="md-nav__link">
    <span class="md-ellipsis">
      12.3 使用场景
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#124" class="md-nav__link">
    <span class="md-ellipsis">
      12.4 常用命令
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#125" class="md-nav__link">
    <span class="md-ellipsis">
      12.5 注意事项
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13-github-action" class="md-nav__link">
    <span class="md-ellipsis">
      13. github action
    </span>
  </a>
  
    <nav class="md-nav" aria-label="13. github action">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#131-github-actions" class="md-nav__link">
    <span class="md-ellipsis">
      13.1 GitHub Actions简介
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#132_1" class="md-nav__link">
    <span class="md-ellipsis">
      13.2 核心概念
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#133_1" class="md-nav__link">
    <span class="md-ellipsis">
      13.3 基本使用方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#134_1" class="md-nav__link">
    <span class="md-ellipsis">
      13.4 使用优势
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#135" class="md-nav__link">
    <span class="md-ellipsis">
      13.5 实用案例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#136" class="md-nav__link">
    <span class="md-ellipsis">
      13.6 自动编译和发布案例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#137" class="md-nav__link">
    <span class="md-ellipsis">
      13.7 实现步骤解析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#138" class="md-nav__link">
    <span class="md-ellipsis">
      13.8 进阶技巧
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#139-vscode" class="md-nav__link">
    <span class="md-ellipsis">
      13.9 VSCode集成
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/liuyu80/edit/main/docs/note/git使用/大学缺失的一课-git使用.md" title="编辑此页" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


  <h1>git使用</h1>

<h2 id="1-git">1. git基础概念<a class="headerlink" href="#1-git" title="Permanent link">&para;</a></h2>
<p><a href="https://git-scm.com/docs">git 官方文档</a></p>
<p><a href="https://git-scm.com/downloads">git 下载地址</a></p>
<p><a href="https://learngitbranching.js.org/?locale=zh_CN">git 沙盒平台</a></p>
<h3 id="11-gitsvn">1.1 Git与SVN的区别<a class="headerlink" href="#11-gitsvn" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>对比维度</th>
<th>Git</th>
<th>SVN</th>
</tr>
</thead>
<tbody>
<tr>
<td>系统架构</td>
<td>分布式版本控制</td>
<td>集中式版本控制</td>
</tr>
<tr>
<td>版本存储</td>
<td>每个克隆都是完整仓库</td>
<td>只保存当前版本，历史在服务器</td>
</tr>
<tr>
<td>分支操作</td>
<td>轻量级分支，创建/合并高效</td>
<td>分支是目录拷贝，操作成本高</td>
</tr>
<tr>
<td>网络依赖</td>
<td>可离线工作，后同步</td>
<td>需要持续连接服务器</td>
</tr>
<tr>
<td>提交速度</td>
<td>本地提交即时完成</td>
<td>必须与服务器交互</td>
</tr>
<tr>
<td>历史修改</td>
<td>可修改本地提交历史</td>
<td>提交后不可修改历史</td>
</tr>
<tr>
<td>学习曲线</td>
<td>概念复杂但功能强大</td>
<td>相对简单直观</td>
</tr>
<tr>
<td>适用场景</td>
<td>开源项目/分布式团队</td>
<td>企业级集中管理</td>
</tr>
</tbody>
</table>
<h3 id="12-4">1.2 4个分区的概念<a class="headerlink" href="#12-4" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>分区名称</th>
<th>描述</th>
<th>常用命令</th>
</tr>
</thead>
<tbody>
<tr>
<td>工作区</td>
<td>本地文件系统可见的目录，直接编辑文件的地方</td>
<td><code>git add</code>, <code>git checkout</code></td>
</tr>
<tr>
<td>暂存区</td>
<td>临时保存将要提交的变更，是工作区和版本库之间的缓冲</td>
<td><code>git commit</code></td>
</tr>
<tr>
<td>本地仓库</td>
<td>存储项目完整历史和所有版本，位于.git目录中</td>
<td><code>git push</code>, <code>git log</code></td>
</tr>
<tr>
<td>远程仓库</td>
<td>托管在服务器上的代码仓库，用于团队协作和备份</td>
<td><code>git pull</code>, <code>git clone</code></td>
</tr>
</tbody>
</table>
<p><img alt="" src="https://liuyu80.github.io/assets/git四个分区.png" /></p>
<h3 id="13">1.3 配置作者和邮箱<a class="headerlink" href="#13" title="Permanent link">&para;</a></h3>
<h4 id="131">1.3.1 全局配置（对所有仓库生效）<a class="headerlink" href="#131" title="Permanent link">&para;</a></h4>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-1"><span class="c1"># 设置全局用户名</span>
</span><span id="__span-0-2">git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.name<span class="w"> </span><span class="s2">&quot;你的名字&quot;</span>
</span><span id="__span-0-3"><span class="c1"># 设置全局邮箱</span>
</span><span id="__span-0-4">git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.email<span class="w"> </span><span class="s2">&quot;你的邮箱@example.com&quot;</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="132">1.3.2 当前仓库配置（仅对当前仓库生效）<a class="headerlink" href="#132" title="Permanent link">&para;</a></h4>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-1-1"><span class="c1"># 进入项目目录后，设置当前仓库用户名</span>
</span><span id="__span-1-2">git<span class="w"> </span>config<span class="w"> </span>user.name<span class="w"> </span><span class="s2">&quot;当前仓库专用名字&quot;</span>
</span><span id="__span-1-3"><span class="c1"># 设置当前仓库邮箱</span>
</span><span id="__span-1-4">git<span class="w"> </span>config<span class="w"> </span>user.email<span class="w"> </span><span class="s2">&quot;当前仓库专用邮箱@example.com&quot;</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="133">1.3.3 查看配置<a class="headerlink" href="#133" title="Permanent link">&para;</a></h4>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-2-1"><span class="c1"># 查看所有配置</span>
</span><span id="__span-2-2">git<span class="w"> </span>config<span class="w"> </span>--list
</span><span id="__span-2-3"><span class="c1"># 查看特定配置项</span>
</span><span id="__span-2-4">git<span class="w"> </span>config<span class="w"> </span>user.name
</span><span id="__span-2-5">git<span class="w"> </span>config<span class="w"> </span>user.email
</span></code></pre></div></td></tr></table></div>
<h4 id="134">1.3.4 配置优先级<a class="headerlink" href="#134" title="Permanent link">&para;</a></h4>
<ol>
<li>当前仓库配置（最高优先级）</li>
<li>全局配置</li>
<li>系统配置（最低优先级）</li>
</ol>
<h3 id="14">1.4 忽略某些文件<a class="headerlink" href="#14" title="Permanent link">&para;</a></h3>
<h4 id="141-gitignore">1.4.1 .gitignore文件作用<a class="headerlink" href="#141-gitignore" title="Permanent link">&para;</a></h4>
<p>用于指定Git应该忽略的文件和目录，这些文件不会被纳入版本控制</p>
<h4 id="142">1.4.2 语法规则<a class="headerlink" href="#142" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>模式</th>
<th>示例</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>精确匹配</td>
<td><code>/debug.log</code></td>
<td>忽略根目录下的debug.log文件</td>
</tr>
<tr>
<td>目录匹配</td>
<td><code>temp/</code></td>
<td>忽略所有temp目录</td>
</tr>
<tr>
<td>通配符</td>
<td><code>*.log</code></td>
<td>忽略所有.log文件</td>
</tr>
<tr>
<td>否定规则</td>
<td><code>!important.log</code></td>
<td>不忽略important.log文件</td>
</tr>
<tr>
<td>双星号</td>
<td><code>**/logs</code></td>
<td>忽略所有目录下的logs文件夹</td>
</tr>
</tbody>
</table>
<h4 id="143">1.4.3 常见忽略项<a class="headerlink" href="#143" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-3-1"># 系统文件
</span><span id="__span-3-2">.DS_Store
</span><span id="__span-3-3">Thumbs.db
</span><span id="__span-3-4">
</span><span id="__span-3-5"># 依赖目录
</span><span id="__span-3-6">node_modules/
</span><span id="__span-3-7">vendor/
</span><span id="__span-3-8">
</span><span id="__span-3-9"># 构建输出
</span><span id="__span-3-10">dist/
</span><span id="__span-3-11">build/
</span><span id="__span-3-12">*.exe
</span><span id="__span-3-13">*.dll
</span><span id="__span-3-14">*.o
</span><span id="__span-3-15">*.d
</span><span id="__span-3-16">
</span><span id="__span-3-17"># 开发环境文件
</span><span id="__span-3-18">.env
</span><span id="__span-3-19">*.local
</span><span id="__span-3-20">
</span><span id="__span-3-21"># 编辑器目录
</span><span id="__span-3-22">.idea/
</span><span id="__span-3-23">.vscode/
</span></code></pre></div></td></tr></table></div>
<h4 id="144">1.4.4 使用方法<a class="headerlink" href="#144" title="Permanent link">&para;</a></h4>
<ol>
<li>在项目根目录创建<code>.gitignore</code>文件</li>
<li>添加需要忽略的文件模式</li>
<li>提交到版本库：
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-4-1">git<span class="w"> </span>add<span class="w"> </span>.gitignore
</span><span id="__span-4-2">git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;添加gitignore文件&quot;</span>
</span></code></pre></div></td></tr></table></div></li>
</ol>
<h4 id="145">1.4.5 注意事项<a class="headerlink" href="#145" title="Permanent link">&para;</a></h4>
<ol>
<li>对已跟踪的文件无效，需要先移除跟踪：
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-5-1">git<span class="w"> </span>rm<span class="w"> </span>--cached<span class="w"> </span>文件名
</span></code></pre></div></td></tr></table></div></li>
<li>全局忽略配置（适用于所有仓库）：
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-6-1">git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>core.excludesfile<span class="w"> </span>~/.gitignore_global
</span></code></pre></div></td></tr></table></div></li>
</ol>
<h2 id="2-vscodegit">2. vscode上的git插件<a class="headerlink" href="#2-vscodegit" title="Permanent link">&para;</a></h2>
<h3 id="21-git">2.1 Git可视化工具<a class="headerlink" href="#21-git" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Git Graph</strong>：</li>
<li>commit对比：通过点击一个提交，然后按住 CTRL/CMD 键点击另一个提交，可以比较任意两个提交<ul>
<li>点击任意文件变更，查看所选提交之间该文件的 Visual Studio Code 差异对比</li>
<li>打开所选提交之间受影响的任意文件的当前版本</li>
<li>将所选提交之间受影响的任意文件路径复制到剪贴板</li>
</ul>
</li>
<li>更多设置</li>
<li>
<p>cherry pick功能</p>
</li>
<li>
<p><strong>GitLens</strong>：</p>
</li>
<li>增强的commit历史查看</li>
<li>支持commit message模板</li>
<li>查看分支时间线</li>
<li>快速切换分支</li>
<li>可视化子模块与主项目的关系</li>
<li>可视化Hook执行结果</li>
</ol>
<h3 id="22">2.2 代码提交相关<a class="headerlink" href="#22" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Git Commit Message Editor</strong>：</li>
<li>提供commit模板和格式验证</li>
<li>
<p>支持Conventional Commits规范</p>
</li>
<li>
<p><strong>Conventional Commits</strong>：</p>
</li>
<li>自动生成符合规范的commit message</li>
<li>提供type选择菜单</li>
</ol>
<h3 id="23">2.3 团队协作相关<a class="headerlink" href="#23" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>GitHub Pull Requests</strong>插件：</li>
<li>直接在编辑器查看/评论PR</li>
<li>本地检查PR分支</li>
<li>提交审查意见</li>
<li>
<p>快速切换PR分支</p>
</li>
<li>
<p><strong>GitHub Issues</strong>插件：</p>
</li>
<li>创建/管理issue</li>
<li>快速过滤标签</li>
</ol>
<h3 id="24-git">2.4 Git工作流支持<a class="headerlink" href="#24-git" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Git Flow</strong>插件：</li>
<li>可视化git flow命令</li>
<li>一键完成分支操作</li>
<li>显示git flow分支关系</li>
<li>颜色区分分支类型</li>
</ol>
<h3 id="25">2.5 其他集成功能<a class="headerlink" href="#25" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>子模块支持</strong>：</li>
<li>源代码管理视图显示子模块变更</li>
<li>
<p>右键子模块可进行初始化/更新</p>
</li>
<li>
<p><strong>Git Hook支持</strong>：</p>
</li>
<li>直接编辑Hook脚本</li>
<li>设置断点调试Hook逻辑</li>
</ol>
<h2 id="3-git">3. Git后悔药<a class="headerlink" href="#3-git" title="Permanent link">&para;</a></h2>
<h3 id="31">3.1 撤销场景分类<a class="headerlink" href="#31" title="Permanent link">&para;</a></h3>
<pre class="mermaid"><code>graph TD
    A[需要撤销的变更] --&gt; B[工作区修改]
    A --&gt; C[暂存区变更]
    A --&gt; D[本地提交]
    A --&gt; E[已推送提交]
    A --&gt; F[误删分支/提交]</code></pre>
<h3 id="32">3.2 撤销工作区修改<a class="headerlink" href="#32" title="Permanent link">&para;</a></h3>
<h4 id="321">3.2.1 丢弃单个文件修改<a class="headerlink" href="#321" title="Permanent link">&para;</a></h4>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-7-1">git<span class="w"> </span>checkout<span class="w"> </span>--<span class="w"> </span>文件名
</span></code></pre></div></td></tr></table></div>
<h4 id="322">3.2.2 丢弃所有修改<a class="headerlink" href="#322" title="Permanent link">&para;</a></h4>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-8-1">git<span class="w"> </span>checkout<span class="w"> </span>--<span class="w"> </span>.
</span></code></pre></div></td></tr></table></div>
<p><strong>典型场景</strong>：修改后未添加到暂存区，想完全放弃所有更改</p>
<h3 id="33">3.3 撤销暂存区变更<a class="headerlink" href="#33" title="Permanent link">&para;</a></h3>
<h4 id="331">3.3.1 将文件移出暂存区（保留工作区修改）<a class="headerlink" href="#331" title="Permanent link">&para;</a></h4>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-9-1">git<span class="w"> </span>reset<span class="w"> </span>HEAD<span class="w"> </span>文件名
</span></code></pre></div></td></tr></table></div>
<h4 id="332">3.3.2 完全撤销暂存区和工作区修改<a class="headerlink" href="#332" title="Permanent link">&para;</a></h4>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-10-1">git<span class="w"> </span>reset<span class="w"> </span>--hard<span class="w"> </span>HEAD
</span></code></pre></div></td></tr></table></div>
<p><strong>示例流程</strong>：
<pre class="mermaid"><code>graph LR
    A[编辑文件] --&gt; B[git add]
    B --&gt; C{发现错误}
    C --&gt;|撤销暂存| D[git reset HEAD]
    C --&gt;|完全撤销| E[git reset --hard HEAD]</code></pre></p>
<h3 id="34">3.4 撤销本地提交<a class="headerlink" href="#34" title="Permanent link">&para;</a></h3>
<h4 id="341">3.4.1 撤销最近一次提交（保留修改）<a class="headerlink" href="#341" title="Permanent link">&para;</a></h4>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-11-1"><span class="c1"># 保留修改到暂存区</span>
</span><span id="__span-11-2">git<span class="w"> </span>reset<span class="w"> </span>--soft<span class="w"> </span>HEAD~1
</span><span id="__span-11-3">
</span><span id="__span-11-4"><span class="c1"># 保留修改到工作区</span>
</span><span id="__span-11-5">git<span class="w"> </span>reset<span class="w"> </span>HEAD~1
</span></code></pre></div></td></tr></table></div>
<h4 id="342">3.4.2 完全撤销提交（慎用）<a class="headerlink" href="#342" title="Permanent link">&para;</a></h4>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-12-1">git<span class="w"> </span>reset<span class="w"> </span>--hard<span class="w"> </span>HEAD~1
</span></code></pre></div></td></tr></table></div>
<h4 id="343">3.4.3 修改最近提交（不产生新提交）<a class="headerlink" href="#343" title="Permanent link">&para;</a></h4>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-13-1">git<span class="w"> </span>commit<span class="w"> </span>--amend
</span></code></pre></div></td></tr></table></div>
<p>git reset 的三种模式</p>
<p><code>git reset</code> 命令有三种主要模式，它们决定了重置操作对工作区和暂存区的影响：</p>
<p><div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-14-1">--soft:  保留工作区和暂存区的更改，仅仅将 HEAD 指针移动到指定的提交。
</span><span id="__span-14-2">         这意味着所有自 `commit` 以来的更改都会出现在暂存区中，等待重新提交。
</span><span id="__span-14-3">--mixed: (默认模式) 保留工作区的更改，但会重置暂存区。
</span><span id="__span-14-4">         这意味着所有自 `commit` 以来的更改都会保留在工作区中，变为未暂存状态。
</span><span id="__span-14-5">--hard:  同时重置暂存区和工作区，丢弃所有自 `commit` 以来的更改。
</span><span id="__span-14-6">         这是一个危险的操作，因为工作区的修改会丢失且难以恢复。
</span></code></pre></div></td></tr></table></div>
<strong>选择策略</strong>：</p>
<table>
<thead>
<tr>
<th>需求</th>
<th>命令</th>
</tr>
</thead>
<tbody>
<tr>
<td>仅修改提交信息</td>
<td><code>git commit --amend</code></td>
</tr>
<tr>
<td>重做提交并保留更改</td>
<td><code>git reset HEAD~1</code></td>
</tr>
<tr>
<td>完全放弃上次提交</td>
<td><code>git reset --hard HEAD~1</code></td>
</tr>
</tbody>
</table>
<h4 id="344-commit">3.4.4 撤回历史commit（高级用法）<a class="headerlink" href="#344-commit" title="Permanent link">&para;</a></h4>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-15-1"><span class="c1"># 撤回最近3个提交(保留修改到工作区)</span>
</span><span id="__span-15-2">git<span class="w"> </span>reset<span class="w"> </span>HEAD~3
</span><span id="__span-15-3">
</span><span id="__span-15-4"><span class="c1"># 完全撤回特定commit及其之后的所有提交(慎用)</span>
</span><span id="__span-15-5">git<span class="w"> </span>reset<span class="w"> </span>--hard<span class="w"> </span>提交hash
</span><span id="__span-15-6">
</span><span id="__span-15-7"><span class="c1"># 查看commit历史确定要撤回的范围</span>
</span><span id="__span-15-8">git<span class="w"> </span>log<span class="w"> </span>--oneline<span class="w"> </span>--graph
</span></code></pre></div></td></tr></table></div>
<p><strong>注意事项</strong>：
1. 只能撤回未推送的commit，已推送的commit需要用<code>git revert</code>
2. 使用<code>--hard</code>会永久删除工作区和暂存区的修改
3. 误操作后可以用<code>git reflog</code>找回commit
4. 团队协作分支慎用，会重写历史影响他人</p>
<h3 id="35">3.5 撤销已推送提交<a class="headerlink" href="#35" title="Permanent link">&para;</a></h3>
<h4 id="351">3.5.1 安全撤销（推荐）<a class="headerlink" href="#351" title="Permanent link">&para;</a></h4>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-16-1"><span class="c1"># 创建反向提交</span>
</span><span id="__span-16-2">git<span class="w"> </span>revert<span class="w"> </span>提交hash
</span><span id="__span-16-3">git<span class="w"> </span>push
</span></code></pre></div></td></tr></table></div>
<h4 id="352">3.5.2 强制撤销（慎用）<a class="headerlink" href="#352" title="Permanent link">&para;</a></h4>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-17-1"><span class="c1"># 本地撤销</span>
</span><span id="__span-17-2">git<span class="w"> </span>reset<span class="w"> </span>--hard<span class="w"> </span>HEAD~1
</span><span id="__span-17-3"><span class="c1"># 强制推送</span>
</span><span id="__span-17-4">git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>分支名<span class="w"> </span>--force-with-lease
</span></code></pre></div></td></tr></table></div>
<p><strong>reset vs revert</strong>：</p>
<table>
<thead>
<tr>
<th>对比维度</th>
<th>git reset</th>
<th>git revert</th>
</tr>
</thead>
<tbody>
<tr>
<td>适用场景</td>
<td>本地/未推送提交</td>
<td>已推送提交/团队协作</td>
</tr>
<tr>
<td>是否修改历史</td>
<td>是</td>
<td>否</td>
</tr>
<tr>
<td>安全性</td>
<td>低（重写历史）</td>
<td>高（添加新提交）</td>
</tr>
<tr>
<td>推荐程度</td>
<td>个人分支</td>
<td>共享分支</td>
</tr>
</tbody>
</table>
<h3 id="36">3.6 恢复误删内容<a class="headerlink" href="#36" title="Permanent link">&para;</a></h3>
<h4 id="361">3.6.1 查找历史操作<a class="headerlink" href="#361" title="Permanent link">&para;</a></h4>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-18-1">git<span class="w"> </span>reflog
</span></code></pre></div></td></tr></table></div>
<h4 id="362">3.6.2 恢复分支/提交<a class="headerlink" href="#362" title="Permanent link">&para;</a></h4>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-19-1"><span class="c1"># 恢复分支</span>
</span><span id="__span-19-2">git<span class="w"> </span>checkout<span class="w"> </span>-b<span class="w"> </span>新分支名<span class="w"> </span>提交hash
</span><span id="__span-19-3">
</span><span id="__span-19-4"><span class="c1"># 恢复单个文件</span>
</span><span id="__span-19-5">git<span class="w"> </span>checkout<span class="w"> </span>提交hash<span class="w"> </span>--<span class="w"> </span>文件名
</span></code></pre></div></td></tr></table></div>
<h3 id="37">3.7 最佳实践<a class="headerlink" href="#37" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>重要操作前备份</strong>：
   <div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-20-1">git<span class="w"> </span>branch<span class="w"> </span>backup/feature-xxx
</span></code></pre></div></td></tr></table></div></p>
</li>
<li>
<p><strong>团队协作规范</strong>：</p>
</li>
<li>避免直接<code>--force</code>推送</li>
<li>使用<code>--force-with-lease</code>更安全</li>
<li>
<p>优先使用<code>revert</code>而非<code>reset</code></p>
</li>
<li>
<p><strong>危险操作清单</strong>：</p>
</li>
<li><code>git reset --hard</code>（不可逆删除工作区）</li>
<li><code>git push --force</code>（覆盖远程历史）</li>
<li><code>git clean -fd</code>（删除未跟踪文件）</li>
</ol>
<h3 id="38">3.8 常见问题解决方案<a class="headerlink" href="#38" title="Permanent link">&para;</a></h3>
<h4 id="381">3.8.1 修改了错误的分支<a class="headerlink" href="#381" title="Permanent link">&para;</a></h4>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-21-1"><span class="c1"># 保存当前修改</span>
</span><span id="__span-21-2">git<span class="w"> </span>stash
</span><span id="__span-21-3"><span class="c1"># 切换到正确分支</span>
</span><span id="__span-21-4">git<span class="w"> </span>checkout<span class="w"> </span>correct-branch
</span><span id="__span-21-5"><span class="c1"># 应用修改</span>
</span><span id="__span-21-6">git<span class="w"> </span>stash<span class="w"> </span>pop
</span></code></pre></div></td></tr></table></div>
<h4 id="382">3.8.2 提交了敏感信息<a class="headerlink" href="#382" title="Permanent link">&para;</a></h4>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-22-1"><span class="c1"># 使用filter-branch清除历史</span>
</span><span id="__span-22-2">git<span class="w"> </span>filter-branch<span class="w"> </span>--force<span class="w"> </span>--index-filter<span class="w"> </span><span class="se">\</span>
</span><span id="__span-22-3"><span class="w">  </span><span class="s2">&quot;git rm --cached --ignore-unmatch 敏感文件&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-22-4"><span class="w">  </span>--prune-empty<span class="w"> </span>--tag-name-filter<span class="w"> </span>cat<span class="w"> </span>--<span class="w"> </span>--all
</span></code></pre></div></td></tr></table></div>
<h4 id="383">3.8.3 需要拆分大提交<a class="headerlink" href="#383" title="Permanent link">&para;</a></h4>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-23-1"><span class="c1"># 交互式rebase</span>
</span><span id="__span-23-2">git<span class="w"> </span>rebase<span class="w"> </span>-i<span class="w"> </span>HEAD~3
</span><span id="__span-23-3"><span class="c1"># 标记要拆分的提交为edit</span>
</span><span id="__span-23-4"><span class="c1"># 然后使用git reset HEAD^逐步提交</span>
</span></code></pre></div></td></tr></table></div>
<h2 id="4">4. 分支合并 &amp; 合并冲突<a class="headerlink" href="#4" title="Permanent link">&para;</a></h2>
<h3 id="41-merge">4.1 merge<a class="headerlink" href="#41-merge" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>定义与作用</strong>：<code>git merge</code> 是最常用的分支合并命令，用于将一个分支（源分支）的更改整合到当前所在的分支（目标分支）。</li>
<li><strong>基本用法</strong>：
   <div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-24-1"><span class="c1"># 切换到目标分支（例如 main）</span>
</span><span id="__span-24-2">git<span class="w"> </span>checkout<span class="w"> </span>main
</span><span id="__span-24-3"><span class="c1"># 合并源分支（例如 feature）到当前分支</span>
</span><span id="__span-24-4">git<span class="w"> </span>merge<span class="w"> </span>feature
</span></code></pre></div></td></tr></table></div></li>
<li><strong>合并类型</strong>：</li>
<li><strong>Fast-forward (快进合并)</strong>：如果目标分支自创建源分支以来没有新的提交，Git 会直接将目标分支指针移动到源分支的最新提交，不产生新的合并提交。历史记录保持线性。</li>
</ul>
<p><img alt="Fast-forward Merge" src="https://www.bogotobogo.com/cplusplus/images/Git/Fast_Forward_Merge/FastForwardMerge.png" />
   - <strong>Three-way Merge (三方合并)</strong>：如果目标分支在源分支创建后也有新的提交，Git 会找到两个分支的共同祖先，并将两个分支的更改进行合并，创建一个新的<strong>合并提交 (Merge Commit)</strong>。这个合并提交有两个父提交。</p>
<p><img alt="Three-way Merge" src="https://media.geeksforgeeks.org/wp-content/uploads/20230516192737/git-three-way-merging.png" />
 - <strong>合并提交</strong>：三方合并会默认生成一个合并提交，其提交信息通常会自动生成（如 "Merge branch 'feature' into main"），也可以通过 <code>-m</code> 参数自定义。使用 <code>--no-ff</code> 参数可以强制进行三方合并，即使满足快进合并条件，也会创建一个合并提交，这有助于清晰地标识出特性分支的合并点。
   <div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-25-1">git<span class="w"> </span>merge<span class="w"> </span>--no-ff<span class="w"> </span>feature<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Merge feature: Implement user login&quot;</span>
</span></code></pre></div></td></tr></table></div>
 - <strong>优点</strong>：
   - 保留了分支的完整历史记录，包括分支的创建和合并点。
   - 对于团队协作，可以清晰地看到每个功能分支的开发和集成过程。
 - <strong>缺点</strong>：
   - 如果分支频繁且合并操作多，可能会导致提交历史变得复杂、非线性，难以阅读。
   - 大量的合并提交可能会“污染”主干分支的历史记录。
 - <strong>适用场景</strong>：
   - 将开发完成的功能分支合并回主开发分支（如 <code>develop</code> 或 <code>main</code>）。
   - 团队协作中，需要保留清晰的分支合并记录时。
   - 长期运行的分支（如 <code>release</code> 分支）合并回主分支。</p>
<h3 id="42-rebase">4.2 rebase<a class="headerlink" href="#42-rebase" title="Permanent link">&para;</a></h3>
<ul>
<li>将当前分支的提交"重新应用"到目标分支的最新提交后，形成线性历史。</li>
<li>不生成合并提交，但会重写提交历史（适合本地分支）。</li>
</ul>
<h4 id="421">4.2.1 基本用法<a class="headerlink" href="#421" title="Permanent link">&para;</a></h4>
<p>将当前分支（例如 <code>feature</code>）的提交变基到目标分支（例如 <code>master</code>）的最新提交上。</p>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-26-1"><span class="c1"># 切换到你的功能分支</span>
</span><span id="__span-26-2">git<span class="w"> </span>checkout<span class="w"> </span>feature
</span><span id="__span-26-3"><span class="c1"># 将 feature 分支的提交变基到 master 分支的最新提交上</span>
</span><span id="__span-26-4">git<span class="w"> </span>rebase<span class="w"> </span>master
</span></code></pre></div></td></tr></table></div>
<p><strong>工作原理</strong>：
1. Git 会找到 <code>feature</code> 分支和 <code>master</code> 分支的共同祖先提交。
2. Git 会"撤销" <code>feature</code> 分支上自共同祖先之后的所有提交，并将这些变更临时保存起来。
3. Git 会将 <code>feature</code> 分支指向 <code>master</code> 分支的最新提交。
4. Git 会将之前临时保存的变更，按照顺序重新应用（replay）到新的 <code>feature</code> 分支顶端。</p>
<p><strong>效果</strong>：<code>feature</code> 分支看起来就像是直接从 <code>master</code> 分支的最新状态开发出来的，提交历史变成了一条直线。</p>
<p><img alt="Rebase示意图" src="https://www.becomebetterprogrammer.com/wp-content/uploads/2021/12/git-rebase-768x480.png" /></p>
<h4 id="422-rebase-vs-merge">4.2.2 Rebase vs Merge<a class="headerlink" href="#422-rebase-vs-merge" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>特性</th>
<th><code>git rebase</code></th>
<th><code>git merge</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>历史记录</td>
<td>线性、整洁</td>
<td>保留分支合并点，非线性</td>
</tr>
<tr>
<td>合并提交</td>
<td>不产生额外的合并提交</td>
<td>通常会产生一个合并提交（除非 fast-forward）</td>
</tr>
<tr>
<td>提交哈希</td>
<td><strong>重写</strong>提交历史（哈希值改变）</td>
<td><strong>保留</strong>原始提交历史</td>
</tr>
<tr>
<td>冲突处理</td>
<td>可能需要多次解决相似冲突</td>
<td>一次性解决所有冲突</td>
</tr>
<tr>
<td>适用场景</td>
<td>本地分支整理、同步上游变更</td>
<td>合并功能到主分支、保留完整历史</td>
</tr>
<tr>
<td>风险</td>
<td><strong>禁止</strong>在已推送的共享分支上使用</td>
<td>相对安全，但历史可能较复杂</td>
</tr>
</tbody>
</table>
<h4 id="423-rebase-rebase-i">4.2.3 交互式 Rebase (<code>rebase -i</code>)<a class="headerlink" href="#423-rebase-rebase-i" title="Permanent link">&para;</a></h4>
<p>交互式 Rebase 提供了更强大的提交历史修改能力。</p>
<p><div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-27-1"><span class="c1"># 查看并编辑最近的 3 个提交</span>
</span><span id="__span-27-2">git<span class="w"> </span>rebase<span class="w"> </span>-i<span class="w"> </span>HEAD~3
</span></code></pre></div></td></tr></table></div>
执行后会打开一个编辑器，列出指定的提交，你可以修改指令来操作这些提交：
- <code>pick</code> (p): 保留该提交（默认）
- <code>reword</code> (r): 保留提交，但修改提交信息
- <code>edit</code> (e): 保留提交，但暂停 Rebase，允许你修改提交内容（例如拆分提交）
- <code>squash</code> (s): 将该提交与前一个提交合并，合并提交信息
- <code>fixup</code> (f): 类似 <code>squash</code>，但丢弃该提交的提交信息
- <code>drop</code> (d): 删除该提交</p>
<p><strong>用途</strong>：
- 合并多个小的、临时的提交。
- 修改不满意的提交信息。
- 重新排序提交。
- 拆分过大的提交。
- 删除不需要的提交。</p>
<h4 id="424-rebase">4.2.4 使用 Rebase 的风险与建议<a class="headerlink" href="#424-rebase" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>黄金法则：永远不要在已经推送到共享仓库（如 <code>origin/main</code>）的分支上使用 <code>rebase</code>！</strong> 因为 <code>rebase</code> 会重写历史，如果其他人已经基于旧的历史进行了开发，强制推送 <code>rebase</code> 后的分支会导致他们的工作混乱。</li>
<li>在个人开发分支上，<code>rebase</code> 是保持提交历史清晰的好方法。</li>
<li>在将本地功能分支推送到远程或发起 Pull Request 之前，可以使用 <code>rebase -i</code> 来整理提交历史，使其更清晰、更有逻辑性。</li>
<li>从主分支（如 <code>main</code>）拉取更新时，使用 <code>git pull --rebase</code> (或 <code>git fetch</code> + <code>git rebase origin/main</code>) 可以避免不必要的合并提交，保持本地分支历史的线性。</li>
</ul>
<h3 id="43-cherry-pick">4.3 cherry-pick<a class="headerlink" href="#43-cherry-pick" title="Permanent link">&para;</a></h3>
<h4 id="431">4.3.1 定义与作用<a class="headerlink" href="#431" title="Permanent link">&para;</a></h4>
<p><code>git cherry-pick</code> 命令用于选择一个或多个已存在的提交，并将它们作为新的提交应用到当前所在的分支上。它允许你"挑选"特定的提交，而不是合并整个分支。</p>
<h4 id="432">4.3.2 基本用法<a class="headerlink" href="#432" title="Permanent link">&para;</a></h4>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-28-1"><span class="c1"># 挑选单个提交</span>
</span><span id="__span-28-2">git<span class="w"> </span>cherry-pick<span class="w"> </span>&lt;commit-hash&gt;
</span><span id="__span-28-3">
</span><span id="__span-28-4"><span class="c1"># 挑选多个提交（按顺序应用）</span>
</span><span id="__span-28-5">git<span class="w"> </span>cherry-pick<span class="w"> </span>&lt;commit-hash-1&gt;<span class="w"> </span>&lt;commit-hash-2&gt;<span class="w"> </span>&lt;commit-hash-3&gt;
</span><span id="__span-28-6">
</span><span id="__span-28-7"><span class="c1"># 挑选一个连续范围的提交（不包含 start-commit，包含 end-commit）</span>
</span><span id="__span-28-8">git<span class="w"> </span>cherry-pick<span class="w"> </span>&lt;start-commit-hash&gt;^..&lt;end-commit-hash&gt;
</span></code></pre></div></td></tr></table></div>
<h4 id="433">4.3.3 应用场景<a class="headerlink" href="#433" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>挑选 Bug 修复</strong>：将某个开发分支上的关键 Bug 修复提交应用到稳定版或发布分支，而无需合并整个开发分支。</li>
<li><strong>选择性功能引入</strong>：从一个实验性分支挑选某个已完成的小功能提交到主开发分支。</li>
<li><strong>避免不必要的合并</strong>：当只需要某个分支的少数几个提交时，使用 <code>cherry-pick</code> 比合并整个分支更简洁。</li>
<li><strong>恢复丢失的提交</strong>：在某些复杂场景下（如 <code>rebase</code> 误操作后），可以从 <code>reflog</code> 中找到丢失的提交哈希，并使用 <code>cherry-pick</code> 恢复到当前分支。</li>
</ul>
<h4 id="434-mergerebase">4.3.4 与 Merge/Rebase 的区别<a class="headerlink" href="#434-mergerebase" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Merge</strong>: 合并两个分支的所有差异，通常会创建一个新的合并提交（除非是 fast-forward），保留分支历史。</li>
<li><strong>Rebase</strong>: 将一个分支的提交"变基"到另一个分支上，重写提交历史，使历史线性化。</li>
<li><strong>Cherry-pick</strong>: 复制一个或多个提交到当前分支，每个被挑选的提交都会在当前分支上创建一个<strong>新的提交</strong>（拥有新的哈希值，但内容和原始提交相同）。</li>
</ul>
<h4 id="435">4.3.5 注意事项与风险<a class="headerlink" href="#435" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>产生新的提交哈希</strong>：<code>cherry-pick</code> 默认会创建新的提交，即使内容完全一样。如果同一个提交后续又通过 <code>merge</code> 进入当前分支，可能会导致提交记录看起来重复。</li>
<li><strong>依赖关系</strong>：被挑选的提交可能依赖于它之前的其他提交。如果只挑选部分提交，可能会导致代码无法编译或运行。</li>
<li><strong>冲突</strong>：与 <code>merge</code> 和 <code>rebase</code> 一样，<code>cherry-pick</code> 也可能遇到代码冲突，需要手动解决。</li>
<li><strong>替代方案</strong>：如果需要挑选一个分支上的<strong>连续多个</strong>提交，通常使用 <code>rebase</code> 会更方便和清晰。</li>
</ul>
<h3 id="44-git-stash">4.4 git stash<a class="headerlink" href="#44-git-stash" title="Permanent link">&para;</a></h3>
<h4 id="441">4.4.1 定义与作用<a class="headerlink" href="#441" title="Permanent link">&para;</a></h4>
<p><code>git stash</code> 命令用于临时保存当前工作目录和暂存区的状态（未提交的修改），以便你可以切换到其他分支工作或拉取远程更新，而不用担心丢失当前的工作进度。当你准备好回来继续工作时，可以恢复（pop 或 apply）之前保存的状态。</p>
<h4 id="442">4.4.2 常用命令<a class="headerlink" href="#442" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>git stash save "message"</code></td>
<td>保存当前状态，并附带一条描述信息（可选）</td>
</tr>
<tr>
<td><code>git stash</code></td>
<td><code>git stash save</code> 的简写形式</td>
</tr>
<tr>
<td><code>git stash list</code></td>
<td>查看所有保存的 stash 列表</td>
</tr>
<tr>
<td><code>git stash show [stash@{n}]</code></td>
<td>显示指定 stash（默认为最新）与它基于的 commit 之间的差异</td>
</tr>
<tr>
<td><code>git stash apply [stash@{n}]</code></td>
<td>应用指定的 stash（默认为最新），但不从 stash 列表中删除</td>
</tr>
<tr>
<td><code>git stash pop [stash@{n}]</code></td>
<td>应用指定的 stash（默认为最新），并从 stash 列表中删除</td>
</tr>
<tr>
<td><code>git stash drop [stash@{n}]</code></td>
<td>删除指定的 stash（默认为最新）</td>
</tr>
<tr>
<td><code>git stash clear</code></td>
<td>删除所有 stash</td>
</tr>
<tr>
<td><code>git stash branch &lt;new-branch-name&gt; [stash@{n}]</code></td>
<td>基于指定 stash 创建一个新分支并应用 stash</td>
</tr>
</tbody>
</table>
<h4 id="443">4.4.3 包含未跟踪/忽略文件<a class="headerlink" href="#443" title="Permanent link">&para;</a></h4>
<p>默认情况下，<code>git stash</code> 只保存已跟踪（tracked）文件的修改。
- <code>git stash -u</code> 或 <code>git stash --include-untracked</code>: 同时保存未跟踪的文件。
- <code>git stash -a</code> 或 <code>git stash --all</code>: 同时保存未跟踪和被忽略（ignored）的文件。</p>
<h4 id="444">4.4.4 应用场景<a class="headerlink" href="#444" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>切换分支</strong>：当前分支有未完成的工作，但需要紧急切换到另一分支修复 Bug 或进行其他任务。
  <div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-29-1"><span class="c1"># 在 feature 分支工作...</span>
</span><span id="__span-29-2">git<span class="w"> </span>stash<span class="w"> </span>save<span class="w"> </span><span class="s2">&quot;WIP: implementing user profile&quot;</span>
</span><span id="__span-29-3">git<span class="w"> </span>checkout<span class="w"> </span>hotfix-branch
</span><span id="__span-29-4"><span class="c1"># ...修复 Bug...</span>
</span><span id="__span-29-5">git<span class="w"> </span>checkout<span class="w"> </span>feature
</span><span id="__span-29-6">git<span class="w"> </span>stash<span class="w"> </span>pop
</span></code></pre></div></td></tr></table></div></li>
<li><strong>拉取远程更新</strong>：本地有修改，但想先拉取远程最新代码，避免合并冲突。
  <div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-30-1"><span class="c1"># 本地有修改...</span>
</span><span id="__span-30-2">git<span class="w"> </span>stash
</span><span id="__span-30-3">git<span class="w"> </span>pull<span class="w"> </span>origin<span class="w"> </span>main
</span><span id="__span-30-4">git<span class="w"> </span>stash<span class="w"> </span>pop<span class="w"> </span><span class="c1"># 应用之前的修改，可能需要解决冲突</span>
</span></code></pre></div></td></tr></table></div></li>
<li><strong>清理工作区</strong>：想暂时移除所有本地修改，查看干净的工作状态。</li>
</ul>
<h4 id="445">4.4.5 注意事项<a class="headerlink" href="#445" title="Permanent link">&para;</a></h4>
<ul>
<li><code>stash pop</code> 如果应用时发生冲突，stash 不会被自动删除，需要手动解决冲突后使用 <code>git stash drop</code> 删除。</li>
<li>Stash 是本地存储，不会随 <code>git push</code> 推送到远程仓库。</li>
<li>频繁使用 stash 可能意味着提交粒度过大或分支切换策略需要优化。考虑更频繁地提交小的、原子性的更改。</li>
</ul>
<h3 id="45">4.5 团队协作中的合并建议<a class="headerlink" href="#45" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>分支策略</strong>：</li>
<li>主分支（main/master）应设置为保护分支，禁止直接推送</li>
<li>功能开发使用feature分支，通过PR合并到主分支</li>
<li>
<p>使用<code>--no-ff</code>合并保留功能开发历史</p>
</li>
<li>
<p><strong>合并冲突解决流程</strong>：
   <pre class="mermaid"><code>graph TD
    A[出现冲突] --&gt; B[拉取最新代码]
    B --&gt; C[本地解决冲突]
    C --&gt; D[添加解决后的文件]
    D --&gt; E[提交解决结果]
    E --&gt; F[推送更新]</code></pre></p>
</li>
<li>
<p><strong>代码审查要点</strong>：</p>
</li>
<li>合并前必须经过至少一名团队成员审查</li>
<li>使用GitHub/GitLab的PR/MR功能进行代码审查</li>
<li>
<p>审查重点：功能完整性、代码质量、测试覆盖</p>
</li>
<li>
<p><strong>冲突预防</strong>：</p>
</li>
<li>频繁从主分支合并更新到开发分支</li>
<li>保持小范围、高频率提交</li>
<li>使用<code>git diff</code>提前发现潜在冲突</li>
</ol>
<h3 id="46">4.6 保持线性提交的方法<a class="headerlink" href="#46" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>使用rebase代替merge</strong>：
   <div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-31-1"><span class="c1"># 从主分支更新时使用rebase</span>
</span><span id="__span-31-2">git<span class="w"> </span>pull<span class="w"> </span>--rebase<span class="w"> </span>origin<span class="w"> </span>main
</span></code></pre></div></td></tr></table></div></p>
</li>
<li>
<p><strong>配置默认rebase行为</strong>：
   <div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-32-1"><span class="c1"># 设置pull时默认使用rebase</span>
</span><span id="__span-32-2">git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>pull.rebase<span class="w"> </span><span class="nb">true</span>
</span></code></pre></div></td></tr></table></div></p>
</li>
<li>
<p><strong>交互式rebase整理提交</strong>：
   <div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-33-1"><span class="c1"># 整理最近3个提交</span>
</span><span id="__span-33-2">git<span class="w"> </span>rebase<span class="w"> </span>-i<span class="w"> </span>HEAD~3
</span></code></pre></div></td></tr></table></div></p>
</li>
<li>使用<code>squash</code>合并小提交</li>
<li>使用<code>reword</code>修改提交信息</li>
<li>
<p>使用<code>edit</code>拆分大提交</p>
</li>
<li>
<p><strong>团队协作注意事项</strong>：</p>
</li>
<li>已推送的分支避免使用rebase</li>
<li>公共分支使用merge保留完整历史</li>
<li>
<p>个人功能分支使用rebase保持整洁</p>
</li>
<li>
<p><strong>何时使用merge vs rebase</strong>：</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>场景</th>
<th>推荐方式</th>
<th>理由</th>
</tr>
</thead>
<tbody>
<tr>
<td>公共分支更新</td>
<td>merge</td>
<td>保留完整协作历史</td>
</tr>
<tr>
<td>个人功能分支</td>
<td>rebase</td>
<td>保持线性可读历史</td>
</tr>
<tr>
<td>发布分支合并</td>
<td>--no-ff merge</td>
<td>明确功能边界</td>
</tr>
<tr>
<td>长期运行的分支</td>
<td>定期merge</td>
<td>减少最终合并时的冲突</td>
</tr>
</tbody>
</table>
<h3 id="47">4.7 合并冲突处理<a class="headerlink" href="#47" title="Permanent link">&para;</a></h3>
<p>当 Git 无法自动合并不同分支的更改时，就会发生合并冲突。这通常发生在两个分支修改了同一文件的同一部分。</p>
<h4 id="471">4.7.1 冲突场景分类<a class="headerlink" href="#471" title="Permanent link">&para;</a></h4>
<pre class="mermaid"><code>graph TD
    subgraph "本地操作冲突场景"
        A[本地 Git 操作] --&gt; B(git merge)
        A --&gt; C(git rebase)
        A --&gt; D(git cherry-pick)
        A --&gt; E(git stash pop/apply)
    end

    subgraph "远程交互冲突场景"
        P[远程交互] --&gt; Q(git pull)
        P --&gt; R(git push - 被拒绝)
    end

    subgraph "共同原因"
        F{同一文件同一区域&lt;br&gt;被不同提交修改}
    end

    subgraph "处理流程 (通用)"
        G[识别冲突] --&gt; H[手动编辑解决]
        H --&gt; I[暂存已解决文件]
        I --&gt; J{继续操作?}
        J -- Yes --&gt; K[完成合并/变基/挑选/应用/推送]
        J -- No --&gt; L[中止操作]
    end

    subgraph "Push 冲突处理"
        R --&gt; S[执行 git pull/fetch]
        S --&gt; T{出现合并/变基冲突?}
        T -- Yes --&gt; G
        T -- No --&gt; U[再次 git push]
    end

    B --&gt; F
    C --&gt; F
    D --&gt; F
    E --&gt; F
    Q --&gt; F
    F --&gt; G

    style G fill:#f9f,stroke:#333,stroke-width:2px
    style H fill:#f9f,stroke:#333,stroke-width:2px
    style I fill:#f9f,stroke:#333,stroke-width:2px
    style J fill:#ccf,stroke:#333,stroke-width:2px
    style K fill:#cfc,stroke:#333,stroke-width:2px
    style L fill:#fcc,stroke:#333,stroke-width:2px
    style R fill:#fcc,stroke:#333,stroke-width:2px
    style S fill:#ffcc99,stroke:#333,stroke-width:2px
    style T fill:#ccf,stroke:#333,stroke-width:2px
    style U fill:#cfc,stroke:#333,stroke-width:2px</code></pre>
<h4 id="472">4.7.2 解决冲突步骤详解<a class="headerlink" href="#472" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>识别冲突</strong>：</p>
<ul>
<li>执行 <code>git merge</code>, <code>git rebase</code>, <code>git cherry-pick</code>, 或 <code>git stash pop/apply</code> 后，如果出现冲突，Git 会提示。</li>
<li>使用 <code>git status</code> 查看哪些文件处于冲突状态（Unmerged paths）。</li>
</ul>
</li>
<li>
<p><strong>手动编辑解决</strong>：</p>
<ul>
<li>打开冲突文件。Git 会在冲突区域用特殊标记标出：
    <div class="language-diff highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Diff</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-34-1">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD (或当前分支名)
</span><span id="__span-34-2">这是当前分支的内容
</span><span id="__span-34-3"><span class="gh">=======</span>
</span><span id="__span-34-4">这是合并分支的内容
</span><span id="__span-34-5">&gt;&gt;&gt;&gt;&gt;&gt;&gt; &lt;合并分支名&gt; (或 commit hash)
</span></code></pre></div></td></tr></table></div></li>
<li>你需要手动编辑这部分代码，删除特殊标记 (<code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>, <code>=======</code>, <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>)，并保留你期望的最终代码。</li>
</ul>
</li>
<li>
<p><strong>暂存已解决文件</strong>：</p>
<ul>
<li>解决完一个文件的所有冲突后，使用 <code>git add &lt;文件名&gt;</code> 将其标记为已解决。</li>
</ul>
</li>
<li>
<p><strong>继续或中止操作</strong>：</p>
<ul>
<li><strong>继续操作</strong>：<ul>
<li>对于 <code>git merge</code>：所有冲突解决并 <code>git add</code> 后，执行 <code>git commit</code> (或者如果 Git 自动创建了合并提交，则无需此步，但通常需要 <code>git merge --continue</code> 或直接 <code>git commit</code>)。</li>
<li>对于 <code>git rebase</code>：所有冲突解决并 <code>git add</code> 后，执行 <code>git rebase --continue</code>。Git 会继续应用下一个补丁，可能需要重复解决冲突。</li>
<li>对于 <code>git cherry-pick</code>：所有冲突解决并 <code>git add</code> 后，执行 <code>git cherry-pick --continue</code> (较新版本 Git) 或 <code>git commit</code>。</li>
<li>对于 <code>git stash pop/apply</code>：所有冲突解决并 <code>git add</code> 后，执行 <code>git commit</code> 来完成提交。如果是 <code>pop</code> 且冲突，stash 不会自动删除，需手动 <code>git stash drop</code>。</li>
</ul>
</li>
<li><strong>中止操作</strong>：如果你想放弃本次合并/变基等操作，恢复到操作之前的状态：<ul>
<li><code>git merge --abort</code></li>
<li><code>git rebase --abort</code></li>
<li><code>git cherry-pick --abort</code></li>
<li>对于 <code>stash</code> 冲突，可以使用 <code>git reset --hard HEAD</code> 清理工作区（<strong>注意：会丢失未暂存的修改</strong>），然后可能需要 <code>git stash drop</code> 清理 stash 记录。</li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 id="473">4.7.3 解决冲突工具<a class="headerlink" href="#473" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>VS Code</strong>: 内建了强大的合并冲突解决界面，可以清晰地看到冲突双方的更改，并选择接受哪个版本或手动合并。</li>
<li><strong>Git 图形化工具</strong>: 如 GitKraken, Sourcetree 等也提供了可视化的冲突解决工具。</li>
<li><strong>命令行</strong>: 使用 <code>git mergetool</code> 可以调用配置的外部合并工具。</li>
</ul>
<h4 id="474">4.7.4 预防冲突<a class="headerlink" href="#474" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>频繁同步</strong>: 经常从主分支（如 <code>main</code> 或 <code>develop</code>）拉取更新到你的功能分支 (<code>git pull origin main --rebase</code>)。</li>
<li><strong>小步提交</strong>: 提交粒度要小，功能单一。</li>
<li><strong>沟通</strong>: 了解团队成员正在修改哪些部分。</li>
<li><strong>清晰的分支策略</strong>: 遵循团队的分支管理规范。</li>
</ul>
<h2 id="5-commit">5. 如何写好一个commit<a class="headerlink" href="#5-commit" title="Permanent link">&para;</a></h2>
<h3 id="51-conventional-commits">5.1 规范（Conventional Commits）<a class="headerlink" href="#51-conventional-commits" title="Permanent link">&para;</a></h3>
<p>推荐使用<a href="https://www.conventionalcommits.org/">Conventional Commits</a>规范，格式为：
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-35-1">&lt;type&gt;[optional scope]: &lt;description&gt;
</span><span id="__span-35-2">[optional body]
</span><span id="__span-35-3">[optional footer]
</span></code></pre></div></td></tr></table></div></p>
<p>常用type类型：
- feat: 新功能
- fix: bug修复
- docs: 文档变更
- style: 代码格式/样式调整
- refactor: 代码重构
- perf: 性能优化
- test: 测试相关
- chore: 构建/工具变更</p>
<h3 id="52">5.2 内容要素<a class="headerlink" href="#52" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>标题行</strong>（必填）：</li>
<li>不超过50字符</li>
<li>使用命令式现在时（如"fix"而非"fixed"或"fixes"")</li>
<li>首字母小写</li>
<li>
<p>不加句号</p>
</li>
<li>
<p><strong>正文</strong>（可选）：</p>
</li>
<li>解释"为什么"而非"做了什么"</li>
<li>每行不超过72字符</li>
<li>
<p>使用空行分隔段落</p>
</li>
<li>
<p><strong>页脚</strong>（可选）：</p>
</li>
<li>关联Issue（如<code>Closes #123</code>）</li>
<li>重大变更说明（BREAKING CHANGE）</li>
</ol>
<h3 id="53">5.3 示例对比<a class="headerlink" href="#53" title="Permanent link">&para;</a></h3>
<p>✅ 好的commit:
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-36-1">feat: 添加用户登录功能
</span><span id="__span-36-2">
</span><span id="__span-36-3">- 实现JWT认证流程
</span><span id="__span-36-4">- 添加登录页面组件
</span><span id="__span-36-5">- 增加相关单元测试
</span><span id="__span-36-6">
</span><span id="__span-36-7">Closes #45
</span></code></pre></div></td></tr></table></div></p>
<p>❌ 不好的commit:
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-37-1">更新了登录
</span></code></pre></div></td></tr></table></div></p>
<h2 id="6-github">6. github介绍<a class="headerlink" href="#6-github" title="Permanent link">&para;</a></h2>
<h3 id="61">6.1 平台定位<a class="headerlink" href="#61" title="Permanent link">&para;</a></h3>
<ul>
<li>Git vs GitHub：Git是分布式版本控制系统，GitHub是基于Git的代码托管平台</li>
<li>核心功能：代码托管 + 社交编程平台（全球最大开源社区）</li>
<li>替代产品：GitLab（企业自建）、Gitee（国内）、Bitbucket</li>
</ul>
<h3 id="62">6.2 核心概念图解<a class="headerlink" href="#62" title="Permanent link">&para;</a></h3>
<pre class="mermaid"><code>graph TD
    A[Repository] --&gt; B[Branch]
    A --&gt; C[Commit]
    A --&gt; D[Pull Request]
    A --&gt; E[Issue]
    A --&gt; F[Fork]
    A --&gt; G[Clone]</code></pre>
<h3 id="63">6.3 关键组件解析<a class="headerlink" href="#63" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Repository（仓库）</strong></li>
<li>
<p>组成要素：</p>
<ul>
<li>代码文件</li>
<li>README.md（项目说明书）</li>
<li>LICENSE（开源协议）</li>
<li>.gitignore（过滤文件）</li>
<li>GitHub特有文件（.github/workflows/")</li>
</ul>
</li>
<li>
<p><strong>Workflow 工作流</strong></p>
</li>
<li>
<p>标准流程示例：
   <div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-38-1">Fork<span class="w"> </span>-&gt;<span class="w"> </span>Clone<span class="w"> </span>-&gt;<span class="w"> </span>Branch<span class="w"> </span>-&gt;<span class="w"> </span>Commit<span class="w"> </span>-&gt;<span class="w"> </span>Push<span class="w"> </span>-&gt;<span class="w"> </span>Pull<span class="w"> </span>Request<span class="w"> </span>-&gt;<span class="w"> </span>Code<span class="w"> </span>Review<span class="w"> </span>-&gt;<span class="w"> </span>Merge
</span></code></pre></div></td></tr></table></div></p>
</li>
<li>
<p><strong>社交化功能</strong></p>
</li>
<li>Stars：收藏项目</li>
<li>Watch：订阅更新</li>
<li>Fork：创建副本</li>
<li>Follow：关注开发者</li>
</ol>
<h3 id="64-github">6.4 GitHub服务矩阵<a class="headerlink" href="#64-github" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>服务名称</th>
<th>功能描述</th>
<th>典型场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>GitHub Pages</td>
<td>静态网站托管</td>
<td>个人博客/项目文档</td>
</tr>
<tr>
<td>GitHub Actions</td>
<td>持续集成/持续部署（CI/CD）</td>
<td>自动化测试与部署</td>
</tr>
<tr>
<td>GitHub Gist</td>
<td>代码片段分享</td>
<td>快速分享配置/示例代码</td>
</tr>
<tr>
<td>GitHub Desktop</td>
<td>图形化客户端</td>
<td>可视化操作Git仓库</td>
</tr>
</tbody>
</table>
<h3 id="65">6.5 开源动机解析<a class="headerlink" href="#65" title="Permanent link">&para;</a></h3>
<ol>
<li>企业层面：</li>
<li>生态建设（如Linux、FreeRTOS生态）</li>
<li>人才筛选（通过贡献者发现优秀开发者）</li>
<li>
<p>标准推广（如Kubernetes、MCP)</p>
</li>
<li>
<p>个人层面：</p>
</li>
<li>构建技术影响力</li>
<li>获得协作开发经验</li>
<li>参与前沿项目</li>
</ol>
<h3 id="66-ssh">6.6 SSH密钥配置<a class="headerlink" href="#66-ssh" title="Permanent link">&para;</a></h3>
<ol>
<li>生成密钥对（命令行）
<div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-39-1">ssh-keygen<span class="w"> </span>-t<span class="w"> </span>ed25519<span class="w"> </span>-C<span class="w"> </span><span class="s2">&quot;your_email@example.com&quot;</span>
</span></code></pre></div></td></tr></table></div></li>
<li>私钥：~/.ssh/id_ed25519</li>
<li>公钥：~/.ssh/id_ed25519.pub</li>
</ol>
<p>公钥文件是私钥文件的扩展名后加上.pub。公钥用于在服务器上进行认证，而私钥则保留在本地，用于解密从服务器发送回来的信息。</p>
<ol>
<li>添加公钥到GitHub</li>
<li>位置：Settings -&gt; SSH and GPG keys</li>
<li>验证连接：
   <div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-40-1">ssh<span class="w"> </span>-T<span class="w"> </span>git@github.com
</span></code></pre></div></td></tr></table></div><blockquote>
<p>补充：如何用命令行把公钥推送到服务器上
<code>ssh-copy-id -i ~/.ssh/id_ed25519 your_username@your_server_ip</code></p>
</blockquote>
</li>
</ol>
<h3 id="67">6.7 添加和管理远程仓库<a class="headerlink" href="#67" title="Permanent link">&para;</a></h3>
<p>当你克隆一个仓库时，Git 会自动将原始仓库添加为名为 <code>origin</code> 的远程仓库。但你也可以手动添加、重命名和删除远程仓库，甚至关联多个远程仓库。</p>
<h4 id="671">6.7.1 添加远程仓库<a class="headerlink" href="#671" title="Permanent link">&para;</a></h4>
<p>使用 <code>git remote add</code> 命令添加一个新的远程仓库。你需要为它指定一个简短的名称（通常使用 <code>origin</code> 作为第一个，也是主要的远程仓库）和仓库的 URL。</p>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-41-1"><span class="c1"># 添加名为 origin 的远程仓库 (通常克隆时自动完成)</span>
</span><span id="__span-41-2"><span class="c1"># git remote add origin https://github.com/user/repo.git</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="672">6.7.2 查看远程仓库<a class="headerlink" href="#672" title="Permanent link">&para;</a></h4>
<p>使用 <code>git remote -v</code> 命令可以查看当前配置的所有远程仓库及其 URL，包括用于 fetch（拉取）和 push（推送）的地址。</p>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-42-1">git<span class="w"> </span>remote<span class="w"> </span>-v
</span><span id="__span-42-2"><span class="c1"># 输出示例:</span>
</span><span id="__span-42-3"><span class="c1"># origin  https://github.com/user/repo.git (fetch)</span>
</span><span id="__span-42-4"><span class="c1"># origin  https://github.com/user/repo.git (push)</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="673">6.7.3 添加多个远程仓库<a class="headerlink" href="#673" title="Permanent link">&para;</a></h4>
<p>一个本地仓库可以关联多个远程仓库。这在多种场景下很有用：</p>
<ul>
<li><strong>协作 Fork</strong>: 你 fork 了一个项目，需要同时与自己的 fork (<code>origin</code>) 和原始项目 (<code>upstream</code>) 交互以保持同步。</li>
<li><strong>备份</strong>: 将代码推送到多个不同的托管平台（如 GitHub 和 GitLab）作为备份。</li>
<li><strong>不同部署目标</strong>: 为不同的部署环境（如 Heroku、Vercel）设置不同的远程仓库。</li>
</ul>
<p>添加第二个或更多远程仓库时，需要给它们指定不同于 <code>origin</code> 的、有意义的名称。常见的名称有 <code>upstream</code>（用于跟踪原始项目）、<code>backup</code>、<code>heroku</code> 等。</p>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-43-1"><span class="c1"># 添加名为 upstream 的远程仓库，指向你 fork 的原始项目</span>
</span><span id="__span-43-2">git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>upstream<span class="w"> </span>https://github.com/original-owner/repo.git
</span><span id="__span-43-3">
</span><span id="__span-43-4"><span class="c1"># 添加名为 backup 的远程仓库，指向另一个托管平台</span>
</span><span id="__span-43-5">git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>backup<span class="w"> </span>https://gitlab.com/user/repo-backup.git
</span><span id="__span-43-6">
</span><span id="__span-43-7"><span class="c1"># 再次查看，会列出所有已添加的远程仓库</span>
</span><span id="__span-43-8">git<span class="w"> </span>remote<span class="w"> </span>-v
</span><span id="__span-43-9"><span class="c1"># 输出示例:</span>
</span><span id="__span-43-10"><span class="c1"># backup  https://gitlab.com/user/repo-backup.git (fetch)</span>
</span><span id="__span-43-11"><span class="c1"># backup  https://gitlab.com/user/repo-backup.git (push)</span>
</span><span id="__span-43-12"><span class="c1"># origin  https://github.com/user/repo.git (fetch)</span>
</span><span id="__span-43-13"><span class="c1"># origin  https://github.com/user/repo.git (push)</span>
</span><span id="__span-43-14"><span class="c1"># upstream https://github.com/original-owner/repo.git (fetch)</span>
</span><span id="__span-43-15"><span class="c1"># upstream https://github.com/original-owner/repo.git (push)</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="674">6.7.4 与特定远程仓库交互<a class="headerlink" href="#674" title="Permanent link">&para;</a></h4>
<p>当你有多个远程仓库时，需要在 <code>push</code> 和 <code>pull</code> (或 <code>fetch</code>) 命令中明确指定要交互的远程仓库名称：</p>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-44-1"><span class="c1"># 从 upstream 拉取 main 分支的最新更新</span>
</span><span id="__span-44-2">git<span class="w"> </span>fetch<span class="w"> </span>upstream
</span><span id="__span-44-3">git<span class="w"> </span>merge<span class="w"> </span>upstream/main<span class="w"> </span><span class="c1"># 或者 git rebase upstream/main</span>
</span><span id="__span-44-4">
</span><span id="__span-44-5"><span class="c1"># 或者使用 pull 一步完成 (默认合并)</span>
</span><span id="__span-44-6">git<span class="w"> </span>pull<span class="w"> </span>upstream<span class="w"> </span>main
</span><span id="__span-44-7">
</span><span id="__span-44-8"><span class="c1"># 将本地 main 分支的更改推送到你自己的 fork (origin)</span>
</span><span id="__span-44-9">git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>main
</span><span id="__span-44-10">
</span><span id="__span-44-11"><span class="c1"># 将本地 main 分支的更改也推送到备份仓库 (backup)</span>
</span><span id="__span-44-12">git<span class="w"> </span>push<span class="w"> </span>backup<span class="w"> </span>main
</span></code></pre></div></td></tr></table></div>
<blockquote>
<p><strong>注意</strong>: 如果不指定远程仓库名称（例如 <code>git pull</code> 或 <code>git push</code>），Git 默认会使用名为 <code>origin</code> 的远程仓库。</p>
</blockquote>
<h4 id="675">6.7.5 重命名和删除远程仓库<a class="headerlink" href="#675" title="Permanent link">&para;</a></h4>
<p>如果需要修改远程仓库的名称或移除不再需要的远程仓库：</p>
<div class="language-shell highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-45-1"><span class="c1"># 重命名远程仓库 (例如将 origin 改为 github)</span>
</span><span id="__span-45-2">git<span class="w"> </span>remote<span class="w"> </span>rename<span class="w"> </span>origin<span class="w"> </span>github
</span><span id="__span-45-3">
</span><span id="__span-45-4"><span class="c1"># 删除远程仓库 (例如删除 backup)</span>
</span><span id="__span-45-5">git<span class="w"> </span>remote<span class="w"> </span>remove<span class="w"> </span>backup
</span></code></pre></div></td></tr></table></div>
<h2 id="7">7. 多人协同<a class="headerlink" href="#7" title="Permanent link">&para;</a></h2>
<h3 id="71">7.1 权限管理<a class="headerlink" href="#71" title="Permanent link">&para;</a></h3>
<h4 id="711-github">7.1.1 GitHub权限模型<a class="headerlink" href="#711-github" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>角色</th>
<th>权限范围</th>
<th>典型操作</th>
</tr>
</thead>
<tbody>
<tr>
<td>Owner</td>
<td>全仓库权限</td>
<td>删除仓库/管理团队</td>
</tr>
<tr>
<td>Maintainer</td>
<td>管理分支/合并PR</td>
<td>设置保护分支/处理PR</td>
</tr>
<tr>
<td>Developer</td>
<td>推送代码/创建PR</td>
<td>开发新功能/修复bug</td>
</tr>
<tr>
<td>Reporter</td>
<td>只读访问</td>
<td>查看代码/创建issue</td>
</tr>
</tbody>
</table>
<h4 id="712">7.1.2 分支保护规则<a class="headerlink" href="#712" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>保护主分支</strong>：
   <div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-46-1"><span class="c1"># 设置master分支保护</span>
</span><span id="__span-46-2">gh<span class="w"> </span>api<span class="w"> </span>repos/<span class="o">{</span>owner<span class="o">}</span>/<span class="o">{</span>repo<span class="o">}</span>/branches/master/protection<span class="w"> </span><span class="se">\</span>
</span><span id="__span-46-3"><span class="w">  </span>--input<span class="w"> </span>protections.json
</span></code></pre></div></td></tr></table></div></li>
<li>必需PR审查</li>
<li>必需CI通过</li>
<li>
<p>禁止强制推送</p>
</li>
<li>
<p><strong>团队协作流程</strong>：
   <code>mermaid
   graph LR
     A[开发者] --&gt;|创建分支| B(feature/xxx)
     B --&gt;|推送| C[远程仓库]
     C --&gt;|创建PR| D[审查]
     D --&gt;|批准| E[合并到main]</code></p>
</li>
</ol>
<h3 id="72-pull-request">7.2 合并请求(Pull Request)<a class="headerlink" href="#72-pull-request" title="Permanent link">&para;</a></h3>
<h4 id="721-pr">7.2.1 PR最佳实践<a class="headerlink" href="#721-pr" title="Permanent link">&para;</a></h4>
<ol>
<li>**创建规范"：</li>
<li>关联issue（<code>Closes #123</code>）</li>
<li>清晰描述变更目的</li>
<li>
<p>保持小范围修改（单一职责）</p>
</li>
<li>
<p><strong>Code Review要点</strong>：</p>
</li>
<li>使用<code>@mention</code>指定审查者</li>
<li>针对具体代码行评论</li>
<li>
<p>遵循<a href="https://google.github.io/eng-practices/review/">Google代码审查指南</a></p>
</li>
<li>
<p><strong>合并策略选择</strong>：</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>策略</th>
<th>适用场景</th>
<th>命令示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>Merge</td>
<td>保留完整历史</td>
<td><code>git merge --no-ff</code></td>
</tr>
<tr>
<td>Squash</td>
<td>简化提交历史</td>
<td><code>git merge --squash</code></td>
</tr>
<tr>
<td>Rebase</td>
<td>线性历史（需谨慎）</td>
<td><code>git rebase main</code></td>
</tr>
</tbody>
</table>
<h3 id="73-issue">7.3 Issue管理<a class="headerlink" href="#73-issue" title="Permanent link">&para;</a></h3>
<h4 id="731-issue">7.3.1 高效使用Issue<a class="headerlink" href="#731-issue" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>模板配置</strong>：
   <div class="language-markdown highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Markdown</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-47-1"><span class="gu">### 问题描述</span>
</span><span id="__span-47-2">[清晰说明问题现象]
</span><span id="__span-47-3">
</span><span id="__span-47-4"><span class="gu">### 重现步骤</span>
</span><span id="__span-47-5">1.
</span><span id="__span-47-6">2.
</span><span id="__span-47-7">3.
</span><span id="__span-47-8">
</span><span id="__span-47-9"><span class="gu">### 预期行为</span>
</span><span id="__span-47-10">[应该发生什么]
</span><span id="__span-47-11">
</span><span id="__span-47-12"><span class="gu">### 实际行为</span>
</span><span id="__span-47-13">[实际发生了什么]
</span></code></pre></div></td></tr></table></div></p>
</li>
<li>
<p><strong>标签系统</strong>：</p>
</li>
<li><code>bug</code>：功能缺陷</li>
<li><code>enhancement</code>：功能改进</li>
<li><code>documentation</code>：文档问题</li>
<li>
<p><code>help wanted</code>：需要协助</p>
</li>
<li>
<p><strong>看板工作流</strong>：
   <pre class="mermaid"><code>graph LR
  A[Backlog] --&gt; B[In Progress]
  B --&gt; C[Review]
  C --&gt; D[Done]</code></pre></p>
</li>
</ol>
<h3 id="74-git-version">7.4 git version自动版本管理<a class="headerlink" href="#74-git-version" title="Permanent link">&para;</a></h3>
<h4 id="741">7.4.1 目的<a class="headerlink" href="#741" title="Permanent link">&para;</a></h4>
<p>在编译C/C++项目时，自动将版本信息（如Git标签、Commit Hash、编译时间）嵌入到代码中，方便追踪软件版本和构建信息。</p>
<h4 id="742-bash">7.4.2 实现方法：Bash脚本生成头文件<a class="headerlink" href="#742-bash" title="Permanent link">&para;</a></h4>
<p>我们可以编写一个Bash脚本，在编译前运行，它会读取当前的Git信息和系统时间，并生成一个C语言头文件（例如 <code>version.h</code>）。</p>
<p><strong>Bash脚本示例 (<code>generate_version.sh</code>)</strong></p>
<div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-48-1"><span class="ch">#!/bin/bash</span>
</span><span id="__span-48-2">
</span><span id="__span-48-3"><span class="c1"># 获取最新的 Git Tag，如果没有 tag 则使用 commit hash 的缩写</span>
</span><span id="__span-48-4"><span class="c1"># --dirty 会在版本号后附加 -dirty 标记（如果工作区有修改）</span>
</span><span id="__span-48-5"><span class="nv">GIT_TAG</span><span class="o">=</span><span class="k">$(</span>git<span class="w"> </span>describe<span class="w"> </span>--tags<span class="w"> </span>--always<span class="w"> </span>--dirty<span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="k">)</span>
</span><span id="__span-48-6"><span class="c1"># 如果上条命令失败（例如不在 Git 仓库中），尝试获取短 commit hash</span>
</span><span id="__span-48-7"><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$?</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
</span><span id="__span-48-8"><span class="w">  </span><span class="nv">GIT_TAG</span><span class="o">=</span><span class="k">$(</span>git<span class="w"> </span>rev-parse<span class="w"> </span>--short<span class="w"> </span>HEAD<span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="k">)</span>
</span><span id="__span-48-9"><span class="k">fi</span>
</span><span id="__span-48-10"><span class="c1"># 如果仍然失败，设为未知</span>
</span><span id="__span-48-11"><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$?</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
</span><span id="__span-48-12"><span class="w">  </span><span class="nv">GIT_TAG</span><span class="o">=</span><span class="s2">&quot;unknown&quot;</span>
</span><span id="__span-48-13"><span class="k">fi</span>
</span><span id="__span-48-14">
</span><span id="__span-48-15"><span class="c1"># 获取完整的 Git Commit Hash</span>
</span><span id="__span-48-16"><span class="nv">GIT_COMMIT_HASH</span><span class="o">=</span><span class="k">$(</span>git<span class="w"> </span>rev-parse<span class="w"> </span>HEAD<span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="k">)</span>
</span><span id="__span-48-17"><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$?</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
</span><span id="__span-48-18"><span class="w">  </span><span class="nv">GIT_COMMIT_HASH</span><span class="o">=</span><span class="s2">&quot;unknown&quot;</span>
</span><span id="__span-48-19"><span class="k">fi</span>
</span><span id="__span-48-20">
</span><span id="__span-48-21"><span class="c1"># 获取构建时间 (UTC)</span>
</span><span id="__span-48-22"><span class="nv">BUILD_TIME</span><span class="o">=</span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span><span class="s1">&#39;+%Y-%m-%d %H:%M:%S UTC&#39;</span><span class="k">)</span>
</span><span id="__span-48-23">
</span><span id="__span-48-24"><span class="c1"># 定义输出头文件名</span>
</span><span id="__span-48-25"><span class="nv">OUTPUT_HEADER</span><span class="o">=</span><span class="s2">&quot;version.h&quot;</span>
</span><span id="__span-48-26">
</span><span id="__span-48-27"><span class="c1"># 生成头文件内容</span>
</span><span id="__span-48-28">cat<span class="w"> </span><span class="s">&lt;&lt; EOF &gt; $OUTPUT_HEADER</span>
</span><span id="__span-48-29"><span class="s">// Auto-generated by generate_version.sh. Do not edit.</span>
</span><span id="__span-48-30"><span class="s">#ifndef VERSION_H</span>
</span><span id="__span-48-31"><span class="s">#define VERSION_H</span>
</span><span id="__span-48-32">
</span><span id="__span-48-33"><span class="s">#define VERSION_TAG      &quot;$GIT_TAG&quot;</span>
</span><span id="__span-48-34"><span class="s">#define VERSION_COMMIT   &quot;$GIT_COMMIT_HASH&quot;</span>
</span><span id="__span-48-35"><span class="s">#define VERSION_BUILD_TIME &quot;$BUILD_TIME&quot;</span>
</span><span id="__span-48-36">
</span><span id="__span-48-37"><span class="s">#endif // VERSION_H</span>
</span><span id="__span-48-38"><span class="s">EOF</span>
</span><span id="__span-48-39">
</span><span id="__span-48-40"><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Generated </span><span class="nv">$OUTPUT_HEADER</span><span class="s2"> with version info:&quot;</span>
</span><span id="__span-48-41"><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Tag/Version: </span><span class="nv">$GIT_TAG</span><span class="s2">&quot;</span>
</span><span id="__span-48-42"><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Commit: </span><span class="nv">$GIT_COMMIT_HASH</span><span class="s2">&quot;</span>
</span><span id="__span-48-43"><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Build Time: </span><span class="nv">$BUILD_TIME</span><span class="s2">&quot;</span>
</span><span id="__span-48-44">
</span><span id="__span-48-45"><span class="nb">exit</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="c1"># 确保脚本成功退出，以便 Makefile 等工具继续执行</span>
</span></code></pre></div></td></tr></table></div>
<p><strong>生成的 <code>version.h</code> 文件示例</strong></p>
<div class="language-c highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">C</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-49-1"><span class="c1">// Auto-generated by generate_version.sh. Do not edit.</span>
</span><span id="__span-49-2"><span class="cp">#ifndef VERSION_H</span>
</span><span id="__span-49-3"><span class="cp">#define VERSION_H</span>
</span><span id="__span-49-4">
</span><span id="__span-49-5"><span class="cp">#define VERSION_TAG      &quot;v1.2.3-5-gabcdef-dirty&quot;</span>
</span><span id="__span-49-6"><span class="cp">#define VERSION_COMMIT   &quot;abcdef1234567890abcdef1234567890abcdef12&quot;</span>
</span><span id="__span-49-7"><span class="cp">#define VERSION_BUILD_TIME &quot;2025-04-28 05:30:00 UTC&quot;</span>
</span><span id="__span-49-8">
</span><span id="__span-49-9"><span class="cp">#endif </span><span class="c1">// VERSION_H</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="743">7.4.3 集成到编译流程<a class="headerlink" href="#743" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>保存脚本</strong>: 将上面的 Bash 脚本内容保存为 <code>generate_version.sh</code> 文件，并放在项目根目录。</li>
<li><strong>赋予脚本执行权限</strong>:
    <div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-50-1">chmod<span class="w"> </span>+x<span class="w"> </span>generate_version.sh
</span></code></pre></div></td></tr></table></div></li>
<li>
<p><strong>在Makefile或构建脚本中调用</strong>: 在编译C代码之前运行此脚本。</p>
<p><strong>Makefile 示例片段</strong>
<div class="language-makefile highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Makefile</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-51-1"><span class="c"># 定义生成的头文件</span>
</span><span id="__span-51-2"><span class="nv">VERSION_HEADER</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>version.h
</span><span id="__span-51-3">
</span><span id="__span-51-4"><span class="c"># 定义所有源文件和目标文件</span>
</span><span id="__span-51-5"><span class="nv">SOURCES</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>main.c<span class="w"> </span>utils.c
</span><span id="__span-51-6"><span class="nv">OBJECTS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">$(</span>SOURCES:.c<span class="o">=</span>.o<span class="k">)</span>
</span><span id="__span-51-7"><span class="nv">EXECUTABLE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>my_program
</span><span id="__span-51-8">
</span><span id="__span-51-9"><span class="c"># 默认目标：先生成版本文件，然后编译程序</span>
</span><span id="__span-51-10"><span class="nf">all</span><span class="o">:</span><span class="w"> </span><span class="k">$(</span><span class="nv">VERSION_HEADER</span><span class="k">)</span> <span class="k">$(</span><span class="nv">EXECUTABLE</span><span class="k">)</span>
</span><span id="__span-51-11">
</span><span id="__span-51-12"><span class="c"># 程序链接规则</span>
</span><span id="__span-51-13"><span class="nf">$(EXECUTABLE)</span><span class="o">:</span><span class="w"> </span><span class="k">$(</span><span class="nv">OBJECTS</span><span class="k">)</span>
</span><span id="__span-51-14"><span class="w">	</span>gcc<span class="w"> </span><span class="k">$(</span>OBJECTS<span class="k">)</span><span class="w"> </span>-o<span class="w"> </span><span class="k">$(</span>EXECUTABLE<span class="k">)</span>
</span><span id="__span-51-15">
</span><span id="__span-51-16"><span class="c"># C文件的编译规则，依赖于对应的源文件和版本头文件</span>
</span><span id="__span-51-17"><span class="nf">%.o</span><span class="o">:</span><span class="w"> </span>%.<span class="n">c</span> <span class="k">$(</span><span class="nv">VERSION_HEADER</span><span class="k">)</span>
</span><span id="__span-51-18"><span class="w">	</span>gcc<span class="w"> </span>-c<span class="w"> </span>$&lt;<span class="w"> </span>-o<span class="w"> </span><span class="nv">$@</span>
</span><span id="__span-51-19">
</span><span id="__span-51-20"><span class="c"># 生成版本头文件的规则</span>
</span><span id="__span-51-21"><span class="c"># 将此规则作为所有需要版本信息的编译目标的依赖</span>
</span><span id="__span-51-22"><span class="nf">$(VERSION_HEADER)</span><span class="o">:</span><span class="w"> </span><span class="n">generate_version</span>.<span class="n">sh</span>
</span><span id="__span-51-23"><span class="w">	</span>./generate_version.sh
</span><span id="__span-51-24">
</span><span id="__span-51-25"><span class="c"># 清理规则</span>
</span><span id="__span-51-26"><span class="nf">clean</span><span class="o">:</span>
</span><span id="__span-51-27"><span class="w">	</span>rm<span class="w"> </span>-f<span class="w"> </span><span class="k">$(</span>OBJECTS<span class="k">)</span><span class="w"> </span><span class="k">$(</span>EXECUTABLE<span class="k">)</span><span class="w"> </span><span class="k">$(</span>VERSION_HEADER<span class="k">)</span>
</span><span id="__span-51-28">
</span><span id="__span-51-29"><span class="c"># 将 version.h 声明为 .PHONY 可以确保每次 make 时都尝试执行脚本，</span>
</span><span id="__span-51-30"><span class="c"># 但更好的做法是让编译目标依赖 version.h 文件本身。</span>
</span><span id="__span-51-31"><span class="c"># .PHONY: all clean</span>
</span></code></pre></div></td></tr></table></div>
<em>说明</em>: 这个Makefile示例将<code>version.h</code>作为编译<code>.o</code>文件的依赖。当<code>generate_version.sh</code>脚本本身被修改，或者<code>version.h</code>文件不存在时，<code>make</code>会自动运行脚本来生成或更新<code>version.h</code>。</p>
</li>
</ol>
<h4 id="744-c">7.4.4 在C代码中使用版本信息<a class="headerlink" href="#744-c" title="Permanent link">&para;</a></h4>
<div class="language-c highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">C</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-52-1"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
</span><span id="__span-52-2"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;version.h&quot;</span><span class="c1"> // 包含生成的头文件</span>
</span><span id="__span-52-3">
</span><span id="__span-52-4"><span class="kt">void</span><span class="w"> </span><span class="nf">print_version</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-52-5"><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;--------------------</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span id="__span-52-6"><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; Program Version : %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">VERSION_TAG</span><span class="p">);</span>
</span><span id="__span-52-7"><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; Git Commit Hash : %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">VERSION_COMMIT</span><span class="p">);</span>
</span><span id="__span-52-8"><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; Build Timestamp : %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">VERSION_BUILD_TIME</span><span class="p">);</span>
</span><span id="__span-52-9"><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;--------------------</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span id="__span-52-10"><span class="p">}</span>
</span><span id="__span-52-11">
</span><span id="__span-52-12"><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-52-13"><span class="w">    </span><span class="n">print_version</span><span class="p">();</span>
</span><span id="__span-52-14"><span class="w">    </span><span class="c1">// ... 其他程序逻辑 ...</span>
</span><span id="__span-52-15"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-52-16"><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="745">7.4.5 注意事项<a class="headerlink" href="#745" title="Permanent link">&para;</a></h4>
<ul>
<li>确保执行脚本的环境中有<code>git</code>命令并且位于一个有效的Git仓库目录中（或者其子目录）。如果不在Git仓库中，脚本会生成"unknown"版本信息。</li>
<li>将生成的 <code>version.h</code> 文件添加到 <code>.gitignore</code> 中，避免将其提交到版本库，因为它每次构建都可能变化，从而导致不必要的提交。
    <div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-53-1"># Generated files
</span><span id="__span-53-2">version.h
</span></code></pre></div></td></tr></table></div></li>
<li>脚本中的错误处理（例如<code>git</code>命令失败）可以根据需要进行增强。目前的脚本在<code>git</code>命令失败时会输出"unknown"。</li>
<li><code>git describe --dirty</code> 会检查工作区是否有未提交的修改，并在版本号后附加 <code>-dirty</code> 标记，这对于识别非干净构建很有用。</li>
</ul>
<h2 id="8-gitflow">8. gitflow实战<a class="headerlink" href="#8-gitflow" title="Permanent link">&para;</a></h2>
<h3 id="81-gitflow">8.1 Gitflow工作流模型<a class="headerlink" href="#81-gitflow" title="Permanent link">&para;</a></h3>
<p><img alt="" src="https://liuyu80.github.io/assets/gitflow工作流.png" /></p>
<pre class="mermaid"><code>graph TD
    M[master] --&gt;|发布| T[Tag]
    D[develop] --&gt;|合并| M
    F[feature/*] --&gt;|完成| D
    R[release/*] --&gt;|上线| M
    R --&gt;|修复| D
    H[hotfix/*] --&gt;|紧急修复| M
    H --&gt;|合并| D</code></pre>
<h3 id="82">8.2 核心操作指南<a class="headerlink" href="#82" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>初始化仓库</strong>：
   <div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-54-1">git<span class="w"> </span>flow<span class="w"> </span>init
</span><span id="__span-54-2"><span class="c1"># 保持默认分支命名或自定义</span>
</span></code></pre></div></td></tr></table></div></p>
</li>
<li>
<p>**功能开发"：
   <div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-55-1">git<span class="w"> </span>flow<span class="w"> </span>feature<span class="w"> </span>start<span class="w"> </span>login-module
</span><span id="__span-55-2"><span class="c1"># 开发完成后</span>
</span><span id="__span-55-3">git<span class="w"> </span>flow<span class="w"> </span>feature<span class="w"> </span>finish<span class="w"> </span>login-module
</span></code></pre></div></td></tr></table></div></p>
</li>
<li>
<p><strong>发布准备</strong>：
   <div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-56-1">git<span class="w"> </span>flow<span class="w"> </span>release<span class="w"> </span>start<span class="w"> </span>v1.0.0
</span><span id="__span-56-2"><span class="c1"># 测试完成后</span>
</span><span id="__span-56-3">git<span class="w"> </span>flow<span class="w"> </span>release<span class="w"> </span>finish<span class="w"> </span>v1.0.0
</span></code></pre></div></td></tr></table></div></p>
</li>
<li>
<p><strong>紧急修复</strong>：
   <div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-57-1">git<span class="w"> </span>flow<span class="w"> </span>hotfix<span class="w"> </span>start<span class="w"> </span>critical-bug
</span><span id="__span-57-2"><span class="c1"># 修复完成后</span>
</span><span id="__span-57-3">git<span class="w"> </span>flow<span class="w"> </span>hotfix<span class="w"> </span>finish<span class="w"> </span>critical-bug
</span></code></pre></div></td></tr></table></div></p>
</li>
</ol>
<h3 id="83">8.3 分支管理规范<a class="headerlink" href="#83" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>分支类型</th>
<th>命名规范</th>
<th>生命周期</th>
<th>合并目标</th>
</tr>
</thead>
<tbody>
<tr>
<td>主分支</td>
<td>master</td>
<td>永久</td>
<td>-</td>
</tr>
<tr>
<td>开发分支</td>
<td>develop</td>
<td>永久</td>
<td>master</td>
</tr>
<tr>
<td>功能分支</td>
<td>feature/*</td>
<td>短期</td>
<td>develop</td>
</tr>
<tr>
<td>发布分支</td>
<td>release/*</td>
<td>中期</td>
<td>master/develop</td>
</tr>
<tr>
<td>热修复分支</td>
<td>hotfix/*</td>
<td>短期</td>
<td>master/develop</td>
</tr>
</tbody>
</table>
<h3 id="84">8.4 分支合并策略<a class="headerlink" href="#84" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>功能分支合并到develop</strong>：
<div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-58-1"><span class="c1"># 确保在develop分支</span>
</span><span id="__span-58-2">git<span class="w"> </span>checkout<span class="w"> </span>develop
</span><span id="__span-58-3"><span class="c1"># 合并功能分支（推荐使用--no-ff保留合并历史）</span>
</span><span id="__span-58-4">git<span class="w"> </span>merge<span class="w"> </span>--no-ff<span class="w"> </span>feature/xxx
</span><span id="__span-58-5"><span class="c1"># 删除已合并的功能分支</span>
</span><span id="__span-58-6">git<span class="w"> </span>branch<span class="w"> </span>-d<span class="w"> </span>feature/xxx
</span></code></pre></div></td></tr></table></div></p>
</li>
<li>
<p><strong>发布分支合并到master</strong>：
<div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-59-1"><span class="c1"># 切换到master分支</span>
</span><span id="__span-59-2">git<span class="w"> </span>checkout<span class="w"> </span>master
</span><span id="__span-59-3"><span class="c1"># 合并发布分支（必须使用--no-ff）</span>
</span><span id="__span-59-4">git<span class="w"> </span>merge<span class="w"> </span>--no-ff<span class="w"> </span>release/v1.0
</span><span id="__span-59-5"><span class="c1"># 打上版本标签</span>
</span><span id="__span-59-6">git<span class="w"> </span>tag<span class="w"> </span>-a<span class="w"> </span>v1.0<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Release version 1.0&quot;</span>
</span></code></pre></div></td></tr></table></div></p>
</li>
<li>
<p><strong>热修复分支合并</strong>：
<div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-60-1"><span class="c1"># 同时合并到master和develop</span>
</span><span id="__span-60-2">git<span class="w"> </span>checkout<span class="w"> </span>master
</span><span id="__span-60-3">git<span class="w"> </span>merge<span class="w"> </span>--no-ff<span class="w"> </span>hotfix/bug123
</span><span id="__span-60-4">git<span class="w"> </span>checkout<span class="w"> </span>develop
</span><span id="__span-60-5">git<span class="w"> </span>merge<span class="w"> </span>--no-ff<span class="w"> </span>hotfix/bug123
</span></code></pre></div></td></tr></table></div></p>
</li>
</ol>
<h3 id="85">8.5 合并最佳实践<a class="headerlink" href="#85" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>合并前准备</strong>：</li>
<li>确保本地分支是最新的（<code>git pull origin 分支名</code>）</li>
<li>解决所有本地未提交的更改</li>
<li>
<p>运行测试确保代码稳定性</p>
</li>
<li>
<p><strong>冲突解决流程</strong>：
<pre class="mermaid"><code>graph TD
    A[出现冲突] --&gt; B[中止合并]
    B --&gt; C[查看冲突文件]
    C --&gt; D[手动解决冲突]
    D --&gt; E[标记为已解决]
    E --&gt; F[完成合并]</code></pre></p>
</li>
<li>
<p><strong>合并策略选择</strong>：</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>场景</th>
<th>推荐策略</th>
<th>理由</th>
</tr>
</thead>
<tbody>
<tr>
<td>功能开发完成</td>
<td>--no-ff merge</td>
<td>保留功能开发历史</td>
</tr>
<tr>
<td>紧急修复</td>
<td>快速合并</td>
<td>快速部署修复</td>
</tr>
<tr>
<td>长期分支同步</td>
<td>rebase + merge</td>
<td>保持历史线性整洁</td>
</tr>
</tbody>
</table>
<ol>
<li><strong>可视化合并流程</strong>：
<div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-61-1"><span class="c1"># 查看合并情况</span>
</span><span id="__span-61-2">git<span class="w"> </span>log<span class="w"> </span>--graph<span class="w"> </span>--oneline<span class="w"> </span>--all
</span><span id="__span-61-3"><span class="c1"># 查看分支关系</span>
</span><span id="__span-61-4">git<span class="w"> </span>show-branch
</span></code></pre></div></td></tr></table></div></li>
</ol>
<h3 id="86">8.6 实战示例<a class="headerlink" href="#86" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-62-1"><span class="c1"># 新功能开发完整流程</span>
</span><span id="__span-62-2">git<span class="w"> </span>flow<span class="w"> </span>feature<span class="w"> </span>start<span class="w"> </span>user-auth
</span><span id="__span-62-3"><span class="c1"># ...开发代码...</span>
</span><span id="__span-62-4">git<span class="w"> </span>add<span class="w"> </span>.
</span><span id="__span-62-5">git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;feat: 实现用户认证逻辑&quot;</span>
</span><span id="__span-62-6">git<span class="w"> </span>flow<span class="w"> </span>feature<span class="w"> </span>finish<span class="w"> </span>user-auth
</span><span id="__span-62-7">
</span><span id="__span-62-8"><span class="c1"># 发布流程</span>
</span><span id="__span-62-9">git<span class="w"> </span>flow<span class="w"> </span>release<span class="w"> </span>start<span class="w"> </span>v1.2.0
</span><span id="__span-62-10"><span class="c1"># ...测试过程...</span>
</span><span id="__span-62-11">git<span class="w"> </span>flow<span class="w"> </span>release<span class="w"> </span>finish<span class="w"> </span>v1.2.0
</span></code></pre></div></td></tr></table></div>
<h2 id="9-pr">9. 如何写好一个PR<a class="headerlink" href="#9-pr" title="Permanent link">&para;</a></h2>
<h3 id="91-pr">9.1 PR基本要素<a class="headerlink" href="#91-pr" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>标题规范</strong>：</li>
<li>使用动词开头（如"Fix"、"Add"、"Update"）</li>
<li>包含模块/功能范围（如"[Auth] Fix login redirect"）</li>
<li>
<p>不超过60字符</p>
</li>
<li>
<p><strong>正文结构</strong>：
   <div class="language-markdown highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Markdown</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-63-1"><span class="gu">### 变更概述</span>
</span><span id="__span-63-2">[简明描述PR的目的和主要变更]
</span><span id="__span-63-3">
</span><span id="__span-63-4"><span class="gu">### 相关Issue</span>
</span><span id="__span-63-5">Close <span class="ni">#123</span> / Fix <span class="ni">#234</span>
</span><span id="__span-63-6">
</span><span id="__span-63-7"><span class="gu">### 变更类型</span>
</span><span id="__span-63-8"><span class="k">- [ ]</span> Bug修复
</span><span id="__span-63-9"><span class="k">- [ ]</span> 功能新增
</span><span id="__span-63-10"><span class="k">- [ ]</span> 重构
</span><span id="__span-63-11"><span class="k">- [ ]</span> 文档更新
</span><span id="__span-63-12">
</span><span id="__span-63-13"><span class="gu">### 修改内容</span>
</span><span id="__span-63-14"><span class="k">-</span><span class="w"> </span>文件1：主要变更说明
</span><span id="__span-63-15"><span class="k">-</span><span class="w"> </span>文件2：调整逻辑说明
</span><span id="__span-63-16">
</span><span id="__span-63-17"><span class="gu">### 测试验证</span>
</span><span id="__span-63-18">[描述测试方法和验证结果]
</span><span id="__span-63-19">
</span><span id="__span-63-20"><span class="gu">### 附加说明</span>
</span><span id="__span-63-21">[需要特别注意的事项]
</span></code></pre></div></td></tr></table></div></p>
</li>
</ol>
<h3 id="92-github-pr">9.2 GitHub PR高效使用<a class="headerlink" href="#92-github-pr" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>模板配置</strong>：
   <div class="language-yaml highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">YAML</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-64-1"><span class="c1"># .github/PULL_REQUEST_TEMPLATE.md</span>
</span><span id="__span-64-2"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Default PR Template</span>
</span><span id="__span-64-3"><span class="nt">about</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Describe your changes</span>
</span><span id="__span-64-4"><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;[Area]</span><span class="nv"> </span><span class="s">Brief</span><span class="nv"> </span><span class="s">description&#39;</span>
</span><span id="__span-64-5"><span class="nt">labels</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&#39;</span>
</span><span id="__span-64-6"><span class="nt">assignees</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&#39;</span>
</span><span id="__span-64-7">
</span><span id="__span-64-8"><span class="c1">## 变更类型</span>
</span><span id="__span-64-9"><span class="l l-Scalar l-Scalar-Plain">&lt;!-- 勾选适用类型 --&gt;</span>
</span><span id="__span-64-10"><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Bug修复</span>
</span><span id="__span-64-11"><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">新功能</span>
</span><span id="__span-64-12"><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">代码重构</span>
</span><span id="__span-64-13"><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">文档更新</span>
</span><span id="__span-64-14"><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">其他</span>
</span><span id="__span-64-15">
</span><span id="__span-64-16"><span class="c1">## 变更描述</span>
</span><span id="__span-64-17"><span class="l l-Scalar l-Scalar-Plain">&lt;!-- 详细说明变更内容 --&gt;</span>
</span><span id="__span-64-18">
</span><span id="__span-64-19"><span class="c1">## 相关Issue</span>
</span><span id="__span-64-20"><span class="l l-Scalar l-Scalar-Plain">&lt;!-- 关联的Issue编号 --&gt;</span>
</span><span id="__span-64-21"><span class="l l-Scalar l-Scalar-Plain">Close</span><span class="w"> </span><span class="c1">#</span>
</span><span id="__span-64-22">
</span><span id="__span-64-23"><span class="c1">## 检查清单</span>
</span><span id="__span-64-24"><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">已通过CI测试</span>
</span><span id="__span-64-25"><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">已更新文档</span>
</span><span id="__span-64-26"><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">已自测主要流程</span>
</span></code></pre></div></td></tr></table></div></p>
</li>
<li>
<p><strong>高级功能</strong>：</p>
</li>
<li><strong>代码行评论</strong>：针对具体代码行提出问题</li>
<li><strong>任务列表</strong>：使用<code>- [ ]</code>跟踪待办事项</li>
<li><strong>草稿PR</strong>：标记为<code>Draft</code>表示开发中</li>
<li><strong>Reviewers</strong>：指定必要审查者</li>
<li>
<p><strong>Labels</strong>：使用标签分类（bug/enhancement等）</p>
</li>
<li>
<p><strong>审查流程优化</strong>：
   <pre class="mermaid"><code>graph TD
  A[创建PR] --&gt; B[自动CI]
  B --&gt; C{CI通过?}
  C --&gt;|是| D[请求审查]
  C --&gt;|否| E[修复问题]
  D --&gt; F[审查讨论]
  F --&gt; G{需要修改?}
  G --&gt;|是| H[推送更新]
  G --&gt;|否| I[批准合并]</code></pre></p>
</li>
</ol>
<h3 id="93-vscode">9.3 VSCode集成技巧<a class="headerlink" href="#93-vscode" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>GitHub Pull Requests插件</strong>：</li>
<li>本地查看/评论PR</li>
<li>直接提交审查意见</li>
<li>
<p>快速切换PR分支</p>
</li>
<li>
<p><strong>代码审查建议</strong>：</p>
</li>
<li>使用<code>Changes</code>视图逐文件审查</li>
<li>利用<code>Timeline</code>查看修改历史</li>
<li>通过<code>Compare Changes</code>对比差异</li>
</ol>
<h3 id="94-pr">9.4 优秀PR示例<a class="headerlink" href="#94-pr" title="Permanent link">&para;</a></h3>
<div class="language-markdown highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Markdown</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-65-1">[Auth] 优化JWT过期处理逻辑
</span><span id="__span-65-2">
</span><span id="__span-65-3"><span class="gu">### 变更概述</span>
</span><span id="__span-65-4"><span class="k">-</span><span class="w"> </span>修复JWT过期后无限重定向问题
</span><span id="__span-65-5"><span class="k">-</span><span class="w"> </span>增加token自动刷新机制
</span><span id="__span-65-6">
</span><span id="__span-65-7"><span class="gu">### 相关Issue</span>
</span><span id="__span-65-8">Close <span class="ni">#123</span>
</span><span id="__span-65-9">
</span><span id="__span-65-10"><span class="gu">### 修改内容</span>
</span><span id="__span-65-11"><span class="k">-</span><span class="w"> </span>auth.service.ts: 实现token刷新逻辑
</span><span id="__span-65-12"><span class="k">-</span><span class="w"> </span>guard.ts: 优化过期处理流程
</span><span id="__span-65-13"><span class="k">-</span><span class="w"> </span>config.ts: 新增refreshToken配置
</span><span id="__span-65-14">
</span><span id="__span-65-15"><span class="gu">### 测试验证</span>
</span><span id="__span-65-16"><span class="k">1.</span> 手动测试token过期场景
</span><span id="__span-65-17"><span class="k">2.</span> 单元测试覆盖率提升至85%
</span></code></pre></div></td></tr></table></div>
<h2 id="10-git">10. git 子模块<a class="headerlink" href="#10-git" title="Permanent link">&para;</a></h2>
<h3 id="101">10.1 基本概念<a class="headerlink" href="#101" title="Permanent link">&para;</a></h3>
<p>Git子模块(Submodule)允许你将一个Git仓库作为另一个Git仓库的子目录。它能让你将其他仓库克隆到自己的项目中，同时还保持独立的提交历史。</p>
<h3 id="102">10.2 核心特点<a class="headerlink" href="#102" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>仓库嵌套</strong>：主项目与子模块各自保持完整Git仓库</li>
<li><strong>版本锁定</strong>：主项目记录子模块的特定提交</li>
<li><strong>独立开发</strong>：子模块可单独更新和提交</li>
</ol>
<h3 id="103">10.3 使用指南<a class="headerlink" href="#103" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>添加子模块</strong>：
<div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-66-1">git<span class="w"> </span>submodule<span class="w"> </span>add<span class="w"> </span>&lt;仓库URL&gt;<span class="w"> </span>&lt;路径&gt;
</span><span id="__span-66-2"><span class="c1"># 示例：添加公共组件库</span>
</span><span id="__span-66-3">git<span class="w"> </span>submodule<span class="w"> </span>add<span class="w"> </span>https://github.com/company/ui-components.git<span class="w"> </span>src/libs/components
</span></code></pre></div></td></tr></table></div></p>
</li>
<li>
<p><strong>初始化子模块</strong>（克隆含子模块的项目后）：
<div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-67-1">git<span class="w"> </span>submodule<span class="w"> </span>init
</span><span id="__span-67-2">git<span class="w"> </span>submodule<span class="w"> </span>update
</span><span id="__span-67-3"><span class="c1"># 或组合命令</span>
</span><span id="__span-67-4">git<span class="w"> </span>submodule<span class="w"> </span>update<span class="w"> </span>--init<span class="w"> </span>--recursive
</span></code></pre></div></td></tr></table></div></p>
</li>
<li>
<p><strong>更新子模块</strong>：
<div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-68-1"><span class="c1"># 进入子模块目录后正常操作</span>
</span><span id="__span-68-2"><span class="nb">cd</span><span class="w"> </span>src/libs/components
</span><span id="__span-68-3">git<span class="w"> </span>pull<span class="w"> </span>origin<span class="w"> </span>main
</span><span id="__span-68-4">
</span><span id="__span-68-5"><span class="c1"># 返回主项目提交子模块更新</span>
</span><span id="__span-68-6"><span class="nb">cd</span><span class="w"> </span>../..
</span><span id="__span-68-7">git<span class="w"> </span>add<span class="w"> </span>src/libs/components
</span><span id="__span-68-8">git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;更新子模块版本&quot;</span>
</span></code></pre></div></td></tr></table></div></p>
</li>
<li>
<p><strong>删除子模块</strong>：
<div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-69-1"><span class="c1"># 1. 删除.gitmodules中的配置</span>
</span><span id="__span-69-2"><span class="c1"># 2. 删除.git/config中的相关部分</span>
</span><span id="__span-69-3"><span class="c1"># 3. 执行删除</span>
</span><span id="__span-69-4">git<span class="w"> </span>rm<span class="w"> </span>--cached<span class="w"> </span>&lt;子模块路径&gt;
</span><span id="__span-69-5">rm<span class="w"> </span>-rf<span class="w"> </span>&lt;子模块路径&gt;
</span></code></pre></div></td></tr></table></div></p>
</li>
</ol>
<h3 id="104">10.4 使用场景与优势<a class="headerlink" href="#104" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>模块化开发</strong>：</li>
<li>将通用组件/库作为独立仓库维护</li>
<li>
<p>多个项目共享同一代码库的不同版本</p>
</li>
<li>
<p><strong>第三方依赖管理</strong>：</p>
</li>
<li>精确控制依赖库的版本</li>
<li>
<p>避免直接复制代码带来的同步问题</p>
</li>
<li>
<p><strong>大型项目组织</strong>：</p>
</li>
<li>解耦子系统间的开发周期</li>
<li>各团队可独立维护子模块</li>
</ol>
<h3 id="105">10.5 注意事项<a class="headerlink" href="#105" title="Permanent link">&para;</a></h3>
<ol>
<li>修改子模块后需要在主项目提交</li>
<li>克隆项目时需添加<code>--recurse-submodules</code>参数</li>
<li>子模块更新可能需解决冲突（在主项目和子模块中分别处理）</li>
</ol>
<h2 id="11-git-hook">11. git hook<a class="headerlink" href="#11-git-hook" title="Permanent link">&para;</a></h2>
<h3 id="111">11.1 基本概念<a class="headerlink" href="#111" title="Permanent link">&para;</a></h3>
<p>Git Hook是Git在特定事件发生时自动运行的脚本，分为客户端Hook和服务器端Hook。它们允许你在关键操作（如提交、推送等）前后插入自定义逻辑。</p>
<h3 id="112">11.2 核心特点<a class="headerlink" href="#112" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>事件驱动</strong>：在特定Git操作前后触发</li>
<li><strong>可定制性</strong>：支持Shell、Python等脚本语言</li>
<li><strong>版本控制</strong>：Hook脚本可纳入版本管理</li>
</ol>
<h3 id="113">11.3 使用指南<a class="headerlink" href="#113" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>查看可用Hook</strong>：
<div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-70-1">ls<span class="w"> </span>.git/hooks/
</span><span id="__span-70-2"><span class="c1"># 示例输出：</span>
</span><span id="__span-70-3"><span class="c1"># applypatch-msg.sample  pre-commit.sample  pre-push.sample</span>
</span><span id="__span-70-4"><span class="c1"># commit-msg.sample      pre-rebase.sample  update.sample</span>
</span></code></pre></div></td></tr></table></div></p>
</li>
<li>
<p><strong>启用Hook</strong>：
<div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-71-1"><span class="c1"># 1. 移除.sample后缀</span>
</span><span id="__span-71-2"><span class="c1"># 2. 添加可执行权限</span>
</span><span id="__span-71-3">chmod<span class="w"> </span>+x<span class="w"> </span>.git/hooks/pre-commit
</span></code></pre></div></td></tr></table></div></p>
</li>
<li>
<p><strong>常用客户端Hook</strong>：</p>
</li>
<li><code>pre-commit</code>：在提交前运行，常用于代码检查</li>
<li><code>commit-msg</code>：检查提交信息格式</li>
<li>
<p><code>pre-push</code>：在推送前运行，常用于运行测试</p>
</li>
<li>
<p><strong>服务器端Hook</strong>（需Git服务器支持）：</p>
</li>
<li><code>pre-receive</code>：在接收推送前验证</li>
<li><code>update</code>：按分支验证推送</li>
<li><code>post-receive</code>：推送后触发通知等</li>
</ol>
<h3 id="114">11.4 实用案例<a class="headerlink" href="#114" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>代码质量检查</strong>：
<div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-72-1"><span class="ch">#!/bin/sh</span>
</span><span id="__span-72-2"><span class="c1"># pre-commit示例：运行ESLint检查</span>
</span><span id="__span-72-3">npm<span class="w"> </span>run<span class="w"> </span>lint
</span><span id="__span-72-4"><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$?</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
</span><span id="__span-72-5"><span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Lint检查失败，请修复错误后再提交&quot;</span>
</span><span id="__span-72-6"><span class="w">  </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
</span><span id="__span-72-7"><span class="k">fi</span>
</span></code></pre></div></td></tr></table></div></p>
</li>
<li>
<p><strong>提交信息验证</strong>：
<div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-73-1"><span class="ch">#!/bin/sh</span>
</span><span id="__span-73-2"><span class="c1"># commit-msg示例：验证Conventional Commits格式</span>
</span><span id="__span-73-3">
</span><span id="__span-73-4"><span class="nv">COMMIT_MSG</span><span class="o">=</span><span class="sb">`</span>cat<span class="w"> </span><span class="nv">$1</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span><span class="s2">&quot;^(feat|fix|docs|chore)\(\w+\)?:\s(\S|\w)+&quot;</span><span class="sb">`</span>
</span><span id="__span-73-5">
</span><span id="__span-73-6"><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$COMMIT_MSG</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
</span><span id="__span-73-7"><span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Commit Message 不规范，请检查!\n&quot;</span>
</span><span id="__span-73-8"><span class="w">  </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
</span><span id="__span-73-9"><span class="k">fi</span>
</span><span id="__span-73-10">
</span><span id="__span-73-11"><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="si">${#</span><span class="nv">COMMIT_MSG</span><span class="si">}</span><span class="w"> </span>-lt<span class="w"> </span><span class="m">15</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
</span><span id="__span-73-12"><span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Commit Message 太短了，请再详细点!\n&quot;</span>
</span><span id="__span-73-13"><span class="w">  </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
</span><span id="__span-73-14"><span class="k">fi</span>
</span></code></pre></div></td></tr></table></div></p>
</li>
<li>
<p><strong>自动测试</strong>：
<div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-74-1"><span class="ch">#!/bin/sh</span>
</span><span id="__span-74-2"><span class="c1"># pre-push示例：运行单元测试</span>
</span><span id="__span-74-3">make<span class="w"> </span><span class="nb">test</span>
</span><span id="__span-74-4"><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$?</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
</span><span id="__span-74-5"><span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;测试失败，请修复后再推送&quot;</span>
</span><span id="__span-74-6"><span class="w">  </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
</span><span id="__span-74-7"><span class="k">fi</span>
</span></code></pre></div></td></tr></table></div></p>
</li>
<li>
<p><strong>自动部署</strong>：
<div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-75-1"><span class="ch">#!/bin/sh</span>
</span><span id="__span-75-2"><span class="c1"># post-receive示例：自动部署到测试环境</span>
</span><span id="__span-75-3"><span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>oldrev<span class="w"> </span>newrev<span class="w"> </span>refname
</span><span id="__span-75-4"><span class="k">do</span>
</span><span id="__span-75-5"><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$refname</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;refs/heads/main&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
</span><span id="__span-75-6"><span class="w">    </span>git<span class="w"> </span>--work-tree<span class="o">=</span>/var/www/test<span class="w"> </span>--git-dir<span class="o">=</span>/var/repo/site.git<span class="w"> </span>checkout<span class="w"> </span>-f
</span><span id="__span-75-7"><span class="w">  </span><span class="k">fi</span>
</span><span id="__span-75-8"><span class="k">done</span>
</span></code></pre></div></td></tr></table></div></p>
</li>
</ol>
<h3 id="115">11.5 使用好处<a class="headerlink" href="#115" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>自动化流程</strong>：减少手动操作错误</li>
<li><strong>强制规范</strong>：确保团队遵守代码标准</li>
<li><strong>提高质量</strong>：在问题进入仓库前拦截</li>
<li><strong>节省时间</strong>：自动执行重复性任务</li>
</ol>
<h3 id="117">11.7 注意事项<a class="headerlink" href="#117" title="Permanent link">&para;</a></h3>
<ol>
<li>确保Hook脚本有可执行权限</li>
<li>复杂的Hook可能影响开发体验（如长时间运行）</li>
<li>考虑使用Husky等工具简化Hook管理</li>
<li>服务器端Hook需要管理员权限配置</li>
</ol>
<h2 id="12-git-lfs-large-file-storage">12. Git LFS (Large File Storage)<a class="headerlink" href="#12-git-lfs-large-file-storage" title="Permanent link">&para;</a></h2>
<h3 id="121-git-lfs">12.1 什么是 Git LFS？<a class="headerlink" href="#121-git-lfs" title="Permanent link">&para;</a></h3>
<p>Git 本身不擅长处理大型二进制文件（如图片、视频、音频、数据集、编译产物等）。每次修改大文件，Git 仓库体积会急剧增大，克隆和拉取速度变慢。Git LFS (Large File Storage) 是一个 Git 扩展，用于解决这个问题。它将大文件存储在专门的 LFS 服务器上，而在 Git 仓库中只保存一个轻量级的“指针”文件（包含文件的哈希值和大小等信息）。</p>
<h3 id="122">12.2 工作原理<a class="headerlink" href="#122" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>安装 LFS 扩展</strong>: <code>git lfs install</code> (通常需要为每个仓库或全局安装一次)。</li>
<li><strong>跟踪文件类型</strong>: 使用 <code>git lfs track</code> 命令指定需要 LFS 管理的文件模式（如 <code>*.psd</code>, <code>*.mp4</code>）。这会创建或修改 <code>.gitattributes</code> 文件。</li>
<li><strong>提交</strong>: 当你 <code>git add</code> 一个被 LFS 跟踪的文件时，Git LFS 的 Hook 会介入，将实际文件内容上传到 LFS 服务器，并将文件替换为一个包含指针信息的文本文件。</li>
<li><strong>克隆/拉取</strong>: 当你克隆仓库或切换分支时，Git LFS 会自动检测指针文件，并从 LFS 服务器下载实际的大文件内容。</li>
</ol>
<h3 id="123">12.3 使用场景<a class="headerlink" href="#123" title="Permanent link">&para;</a></h3>
<ul>
<li>图形设计文件 (PSD, AI)</li>
<li>视频和音频文件 (MP4, WAV)</li>
<li>大型数据集 (CSV, HDF5)</li>
<li>游戏资源 (纹理, 模型)</li>
<li>二进制构建产物 (JAR, DLL)</li>
</ul>
<h3 id="124">12.4 常用命令<a class="headerlink" href="#124" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-76-1"><span class="c1"># 安装 LFS (系统范围或仓库范围)</span>
</span><span id="__span-76-2">git<span class="w"> </span>lfs<span class="w"> </span>install<span class="w">       </span><span class="c1"># 为当前用户安装 LFS Hook</span>
</span><span id="__span-76-3">git<span class="w"> </span>lfs<span class="w"> </span>install<span class="w"> </span>--system<span class="w"> </span><span class="c1"># 为系统所有用户安装</span>
</span><span id="__span-76-4">
</span><span id="__span-76-5"><span class="c1"># 跟踪指定类型的文件</span>
</span><span id="__span-76-6">git<span class="w"> </span>lfs<span class="w"> </span>track<span class="w"> </span><span class="s2">&quot;*.psd&quot;</span><span class="w">  </span><span class="c1"># 跟踪所有 .psd 文件</span>
</span><span id="__span-76-7">git<span class="w"> </span>lfs<span class="w"> </span>track<span class="w"> </span><span class="s2">&quot;assets/large-files/*&quot;</span><span class="w"> </span><span class="c1"># 跟踪特定目录下的所有文件</span>
</span><span id="__span-76-8">
</span><span id="__span-76-9"><span class="c1"># 查看当前跟踪的文件模式</span>
</span><span id="__span-76-10">git<span class="w"> </span>lfs<span class="w"> </span>track
</span><span id="__span-76-11">
</span><span id="__span-76-12"><span class="c1"># 查看哪些文件正在被 LFS 管理</span>
</span><span id="__span-76-13">git<span class="w"> </span>lfs<span class="w"> </span>ls-files
</span><span id="__span-76-14">
</span><span id="__span-76-15"><span class="c1"># 确保 .gitattributes 文件被提交</span>
</span><span id="__span-76-16">git<span class="w"> </span>add<span class="w"> </span>.gitattributes
</span><span id="__span-76-17">git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Configure Git LFS tracking&quot;</span>
</span><span id="__span-76-18">
</span><span id="__span-76-19"><span class="c1"># 正常提交和推送</span>
</span><span id="__span-76-20">git<span class="w"> </span>add<span class="w"> </span>large_file.dat
</span><span id="__span-76-21">git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Add large data file&quot;</span>
</span><span id="__span-76-22">git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>main
</span><span id="__span-76-23">
</span><span id="__span-76-24"><span class="c1"># 克隆包含 LFS 文件的仓库 (LFS 会自动下载)</span>
</span><span id="__span-76-25">git<span class="w"> </span>clone<span class="w"> </span>&lt;repository_url&gt;
</span><span id="__span-76-26">
</span><span id="__span-76-27"><span class="c1"># 拉取更新 (LFS 会自动下载更新的大文件)</span>
</span><span id="__span-76-28">git<span class="w"> </span>pull
</span></code></pre></div></td></tr></table></div>
<h3 id="125">12.5 注意事项<a class="headerlink" href="#125" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>LFS 服务器</strong>: 需要有 LFS 服务器来存储大文件。GitHub, GitLab, Bitbucket 等平台都提供 LFS 支持，但通常有存储和带宽限制（超出部分可能收费）。也可以自建 LFS 服务器。</li>
<li><strong>.gitattributes</strong>: 这个文件非常重要，必须提交到仓库，它告诉 Git 哪些文件应该由 LFS 处理。</li>
<li><strong>历史文件</strong>: <code>git lfs track</code> 只对之后添加的文件生效。要将仓库历史中的大文件迁移到 LFS，需要使用 <code>git lfs migrate</code> 命令，这是一个复杂且可能重写历史的操作。</li>
<li><strong>协作</strong>: 团队成员都需要安装 Git LFS 扩展才能正常工作。</li>
</ul>
<h2 id="13-github-action">13. github action<a class="headerlink" href="#13-github-action" title="Permanent link">&para;</a></h2>
<h3 id="131-github-actions">13.1 GitHub Actions简介<a class="headerlink" href="#131-github-actions" title="Permanent link">&para;</a></h3>
<p>GitHub Actions是GitHub提供的持续集成和持续交付(CI/CD)平台，允许你自动化构建、测试和部署流程。它可以直接集成在你的GitHub仓库中，通过YAML文件定义工作流，在代码推送或PR等事件触发时自动执行任务。</p>
<p><a href="https://github.com/marketplace?type=actions">自动化工具市场 github actions marketplace</a>
<a href="https://docs.github.com/en/actions">actions说明文档 GitHub Actions documentation</a></p>
<h3 id="132_1">13.2 核心概念<a class="headerlink" href="#132_1" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Workflow（工作流）</strong>：一个可配置的自动化流程，由YAML文件定义</li>
<li><strong>Job（作业）</strong>：工作流中的一组步骤，在同一个运行器上执行</li>
<li><strong>Step（步骤）</strong>：作业中的单个任务，可以运行命令或操作</li>
<li><strong>Action（动作）</strong>：可重用的代码单元，用于简化工作流步骤</li>
<li><strong>Runner（运行器）</strong>：执行工作流的服务器，可以是GitHub托管或自托管</li>
</ol>
<h3 id="133_1">13.3 基本使用方法<a class="headerlink" href="#133_1" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>创建工作流文件</strong>：</li>
<li>在仓库中创建<code>.github/workflows/</code>目录</li>
<li>
<p>添加YAML格式的工作流文件（如<code>ci.yml</code>）</p>
</li>
<li>
<p><strong>工作流文件结构</strong>：
<div class="language-yaml highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">YAML</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-77-1"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Workflow名称</span>
</span><span id="__span-77-2"><span class="nt">on</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">push</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">pull_request</span><span class="p p-Indicator">]</span><span class="w"> </span><span class="c1"># 触发事件</span>
</span><span id="__span-77-3"><span class="nt">jobs</span><span class="p">:</span>
</span><span id="__span-77-4"><span class="w">  </span><span class="nt">build</span><span class="p">:</span>
</span><span id="__span-77-5"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span><span class="w"> </span><span class="c1"># 运行环境</span>
</span><span id="__span-77-6"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
</span><span id="__span-77-7"><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v2</span><span class="w"> </span><span class="c1"># 检出代码</span>
</span><span id="__span-77-8"><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">make</span><span class="w"> </span><span class="c1"># 运行命令</span>
</span></code></pre></div></td></tr></table></div></p>
</li>
<li>
<p><strong>常用触发事件</strong>：</p>
</li>
<li><code>push</code>：代码推送时触发</li>
<li><code>pull_request</code>：PR创建或更新时触发</li>
<li><code>schedule</code>：定时触发（cron语法）</li>
<li><code>workflow_dispatch</code>：手动触发</li>
</ol>
<h3 id="134_1">13.4 使用优势<a class="headerlink" href="#134_1" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>深度集成</strong>：与GitHub生态系统无缝协作</li>
<li><strong>多平台支持</strong>：支持Linux、Windows和macOS运行环境</li>
<li><strong>丰富的Action市场</strong>：数千个预构建Action可供使用</li>
<li><strong>免费额度</strong>：公开仓库和私有仓库都有一定的免费使用额度</li>
<li><strong>矩阵构建</strong>：支持同时测试多个配置/版本</li>
</ol>
<h3 id="135">13.5 实用案例<a class="headerlink" href="#135" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>自动化测试</strong>：每次推送代码时运行测试套件</li>
<li><strong>持续部署</strong>：自动部署到生产/测试环境</li>
<li><strong>代码质量检查</strong>：运行linter和静态分析工具</li>
<li><strong>发布管理</strong>：自动创建发布包和发布说明</li>
<li><strong>定时任务</strong>：定期运行数据备份或报表生成</li>
</ol>
<h3 id="136">13.6 自动编译和发布案例<a class="headerlink" href="#136" title="Permanent link">&para;</a></h3>
<p>以下是一个完整的workflow示例，实现当创建git tag时自动编译makefile项目并发布到GitHub Release：</p>
<div class="language-yaml highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">YAML</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-78-1"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Publish release</span>
</span><span id="__span-78-2">
</span><span id="__span-78-3"><span class="nt">on</span><span class="p">:</span>
</span><span id="__span-78-4"><span class="w">  </span><span class="nt">push</span><span class="p">:</span>
</span><span id="__span-78-5"><span class="w">    </span><span class="nt">tags</span><span class="p">:</span>
</span><span id="__span-78-6"><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;v*.*.*&quot;</span>
</span><span id="__span-78-7">
</span><span id="__span-78-8"><span class="nt">jobs</span><span class="p">:</span>
</span><span id="__span-78-9"><span class="w">  </span><span class="nt">build</span><span class="p">:</span>
</span><span id="__span-78-10"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
</span><span id="__span-78-11"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
</span><span id="__span-78-12"><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Checkout</span>
</span><span id="__span-78-13"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v4</span>
</span><span id="__span-78-14"><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install arm-none-eabi-gcc</span>
</span><span id="__span-78-15"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">carlosperate/arm-none-eabi-gcc-action@v1</span>
</span><span id="__span-78-16"><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Verify version</span>
</span><span id="__span-78-17"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arm-none-eabi-gcc --version</span>
</span><span id="__span-78-18"><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">build make</span>
</span><span id="__span-78-19"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">make</span>
</span><span id="__span-78-20"><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ls path</span>
</span><span id="__span-78-21"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ls Build/</span>
</span><span id="__span-78-22"><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zip the build</span>
</span><span id="__span-78-23"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-78-24"><span class="w">          </span><span class="no">zip -r output.zip Build/GD32F407VET6.bin Build/GD32F407VET6.hex Build/GD32F407VET6.elf</span>
</span><span id="__span-78-25"><span class="w">          </span><span class="no">ls .</span>
</span><span id="__span-78-26"><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Release</span>
</span><span id="__span-78-27"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">softprops/action-gh-release@v2</span>
</span><span id="__span-78-28"><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
</span><span id="__span-78-29"><span class="w">          </span><span class="nt">token</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.RELEASE_TOKEN }}</span>
</span><span id="__span-78-30"><span class="w">          </span><span class="nt">body_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./CHANGELOG.md</span>
</span><span id="__span-78-31"><span class="w">          </span><span class="nt">files</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-78-32"><span class="w">            </span><span class="no">./output.zip</span>
</span><span id="__span-78-33"><span class="w">            </span><span class="no">./CHANGELOG.md</span>
</span></code></pre></div></td></tr></table></div>
<h3 id="137">13.7 实现步骤解析<a class="headerlink" href="#137" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>触发条件</strong>：当推送v开头的tag时触发工作流（如<code>git tag -a v1.0.0 -m "Release 1.0.0" &amp;&amp; git push origin v1.0.0</code>）</li>
<li><strong>环境准备</strong>：安装build-essential包确保make可用</li>
<li><strong>编译过程</strong>：运行<code>make all</code>命令编译项目</li>
<li><strong>创建Release</strong>：使用create-release action基于tag创建GitHub Release</li>
<li><strong>上传产物</strong>：将make生成的构建产物上传到Release中</li>
</ol>
<h3 id="138">13.8 进阶技巧<a class="headerlink" href="#138" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>使用缓存</strong>：缓存依赖项加速后续构建</li>
<li><strong>矩阵构建</strong>：同时构建多个平台/版本</li>
<li><strong>环境变量</strong>：通过secrets管理敏感信息</li>
<li><strong>条件步骤</strong>：根据上一步结果决定是否执行</li>
<li><strong>人工审批</strong>：重要部署前加入人工确认步骤</li>
</ol>
<h3 id="139-vscode">13.9 VSCode集成<a class="headerlink" href="#139-vscode" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>语法高亮</strong>：安装YAML插件获得语法支持</li>
<li><strong>Action验证</strong>：使用GitHub Actions扩展验证工作流</li>
<li><strong>本地测试</strong>：通过act工具本地运行工作流</li>
<li><strong>智能提示</strong>：使用schema获得自动补全功能</li>
</ol>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 liuyu
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.top", "navigation.indexes", "navigation.expand", "search.suggest", "search.highlight", "content.code.copy", "content.action.edit"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.081f42fc.min.js"></script>
      
        <script src="../../../mkdocs/javascripts/katex.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/contrib/auto-render.min.js"></script>
      
        <script src="../../../optionalConfig.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@11.5.0/dist/mermaid.min.js"></script>
      
        <script src="../../../extra-loader.js"></script>
      
    
  </body>
</html>